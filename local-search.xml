<?xml version="1.0" encoding="utf-8"?>
<search>
  
  
  
  <entry>
    <title>SVD 奇异值分解教程：理论与应用</title>
    <link href="/2025/11/12/svd-decomposition-guide/"/>
    <url>/2025/11/12/svd-decomposition-guide/</url>
    
    <content type="html"><![CDATA[<h1 id="svd-奇异值分解教程理论与应用">SVD奇异值分解教程：理论与应用</h1><h2 id="什么是-svd-分解">📖 什么是 SVD 分解？</h2><p><strong>SVD（Singular Value Decomposition，奇异值分解）</strong>是线性代数中一个非常重要的矩阵分解方法。对于任意一个 <spanclass="math inline"><em>m</em> × <em>n</em></span> 的矩阵 <spanclass="math inline"><em>A</em></span>，SVD将其分解为三个矩阵的乘积：</p><p><spanclass="math display"><em>A</em> = <em>U</em><em>Σ</em><em>V</em><sup><em>T</em></sup></span></p><p>其中： - <span class="math inline"><em>U</em></span> 是一个 <spanclass="math inline"><em>m</em> × <em>m</em></span> 的正交矩阵（<spanclass="math inline"><em>U</em><sup><em>T</em></sup><em>U</em> = <em>I</em></span>），其列向量称为<strong>左奇异向量</strong>- <span class="math inline"><em>Σ</em></span> 是一个 <spanclass="math inline"><em>m</em> × <em>n</em></span>的对角矩阵，对角线上的元素称为<strong>奇异值</strong>（SingularValues），按降序排列：<spanclass="math inline"><em>σ</em><sub>1</sub> ≥ <em>σ</em><sub>2</sub> ≥ ⋯ ≥ <em>σ</em><sub><em>r</em></sub> ≥ 0</span>- <span class="math inline"><em>V</em><sup><em>T</em></sup></span> 是<span class="math inline"><em>V</em></span> 的转置，<spanclass="math inline"><em>V</em></span> 是一个 <spanclass="math inline"><em>n</em> × <em>n</em></span> 的正交矩阵（<spanclass="math inline"><em>V</em><sup><em>T</em></sup><em>V</em> = <em>I</em></span>），其列向量称为<strong>右奇异向量</strong></p><hr /><h2 id="如何理解-svd-的意义">🎯 如何理解 SVD 的意义？</h2><h3id="核心思想将复杂变换分解为简单操作">核心思想：将复杂变换分解为简单操作</h3><p>SVD的核心思想是：<strong>任何矩阵变换都可以分解为三个简单操作的组合</strong>：</p><ol type="1"><li><strong>旋转/反射</strong>（<spanclass="math inline"><em>V</em><sup><em>T</em></sup></span>）：在输入空间中旋转</li><li><strong>缩放</strong>（<spanclass="math inline"><em>Σ</em></span>）：沿坐标轴方向缩放</li><li><strong>旋转/反射</strong>（<spanclass="math inline"><em>U</em></span>）：在输出空间中旋转</li></ol><h3 id="几何直观理解">几何直观理解</h3><p>想象一个矩阵 <span class="math inline"><em>A</em></span>表示一个线性变换，它将一个单位圆（或单位球）变换成一个椭圆（或椭球）。</p><p><strong>SVD 告诉我们</strong>： - <spanclass="math inline"><em>V</em><sup><em>T</em></sup></span>的作用：找到输入空间中最重要的方向（主轴） - <spanclass="math inline"><em>Σ</em></span>的作用：在这些方向上分别缩放多少倍（椭圆的长轴、短轴长度） - <spanclass="math inline"><em>U</em></span>的作用：将缩放后的结果旋转到输出空间的方向</p><h3 id="具体例子22-矩阵的几何意义">具体例子：2×2 矩阵的几何意义</h3><p>考虑矩阵：</p><p><span class="math display">$$A = \begin{bmatrix} 2 &amp; 1 \\ 1 &amp;2 \end{bmatrix}$$</span></p><p>这个矩阵将单位圆变换成一个椭圆。SVD 分解告诉我们：</p><ol type="1"><li><strong>输入空间</strong>：单位圆上的点</li><li><strong><spanclass="math inline"><em>V</em><sup><em>T</em></sup></span>旋转</strong>：将单位圆旋转，使得椭圆的主轴与坐标轴对齐</li><li><strong><span class="math inline"><em>Σ</em></span>缩放</strong>：沿坐标轴方向分别缩放 <spanclass="math inline"><em>σ</em><sub>1</sub></span> 和 <spanclass="math inline"><em>σ</em><sub>2</sub></span> 倍</li><li><strong><span class="math inline"><em>U</em></span>旋转</strong>：将缩放后的椭圆旋转到最终位置</li></ol><p><strong>关键洞察</strong>：SVD找到了”最佳坐标系”，在这个坐标系下，变换只是简单的缩放操作。</p><hr /><h2 id="svd-分解的具体操作步骤">🔧 SVD 分解的具体操作步骤</h2><h3 id="步骤-1计算-at-a-和-aat">步骤 1：计算 <spanclass="math inline"><em>A</em><sup><em>T</em></sup><em>A</em></span> 和<spanclass="math inline"><em>A</em><em>A</em><sup><em>T</em></sup></span></h3><p>对于矩阵 <spanclass="math inline"><em>A</em> ∈ ℝ<sup><em>m</em> × <em>n</em></sup></span>：</p><ol type="1"><li><strong>计算 <spanclass="math inline"><em>A</em><sup><em>T</em></sup><em>A</em></span></strong>（<spanclass="math inline"><em>n</em> × <em>n</em></span> 矩阵）</li><li><strong>计算 <spanclass="math inline"><em>A</em><em>A</em><sup><em>T</em></sup></span></strong>（<spanclass="math inline"><em>m</em> × <em>m</em></span> 矩阵）</li></ol><h3 id="步骤-2求特征值和特征向量">步骤 2：求特征值和特征向量</h3><ol type="1"><li><strong>对 <spanclass="math inline"><em>A</em><sup><em>T</em></sup><em>A</em></span>求特征值和特征向量</strong>：<ul><li>特征值：<spanclass="math inline"><em>λ</em><sub>1</sub>, <em>λ</em><sub>2</sub>, …, <em>λ</em><sub><em>n</em></sub></span>（按降序排列）</li><li>对应的特征向量：<spanclass="math inline"><em>v</em><sub>1</sub>, <em>v</em><sub>2</sub>, …, <em>v</em><sub><em>n</em></sub></span>（单位化后）</li><li>这些特征向量构成 <span class="math inline"><em>V</em></span>的列</li></ul></li><li><strong>对 <spanclass="math inline"><em>A</em><em>A</em><sup><em>T</em></sup></span>求特征值和特征向量</strong>：<ul><li>特征值：<spanclass="math inline"><em>μ</em><sub>1</sub>, <em>μ</em><sub>2</sub>, …, <em>μ</em><sub><em>m</em></sub></span>（按降序排列）</li><li>对应的特征向量：<spanclass="math inline"><em>u</em><sub>1</sub>, <em>u</em><sub>2</sub>, …, <em>u</em><sub><em>m</em></sub></span>（单位化后）</li><li>这些特征向量构成 <span class="math inline"><em>U</em></span>的列</li></ul></li></ol><h3 id="步骤-3计算奇异值">步骤 3：计算奇异值</h3><p>奇异值 <spanclass="math inline"><em>σ</em><sub><em>i</em></sub></span>是特征值的平方根：</p><p><span class="math display">$$\sigma_i = \sqrt{\lambda_i} =\sqrt{\mu_i}$$</span></p><p><strong>注意</strong>：<spanclass="math inline"><em>A</em><sup><em>T</em></sup><em>A</em></span> 和<spanclass="math inline"><em>A</em><em>A</em><sup><em>T</em></sup></span>的非零特征值完全相同（见下面的推导）。</p><h3 id="步骤-4构建矩阵">步骤 4：构建矩阵</h3><ol type="1"><li><strong>构建 <spanclass="math inline"><em>V</em></span></strong>：将 <spanclass="math inline"><em>A</em><sup><em>T</em></sup><em>A</em></span>的特征向量（单位化后）作为列</li><li><strong>构建 <spanclass="math inline"><em>Σ</em></span></strong>：对角线元素为奇异值，按降序排列</li><li><strong>构建 <spanclass="math inline"><em>U</em></span></strong>：有两种方法：<ul><li>方法 1：使用 <spanclass="math inline"><em>A</em><em>A</em><sup><em>T</em></sup></span>的特征向量</li><li>方法 2：使用公式 <span class="math inline">$u_i = \frac{1}{\sigma_i}A v_i$</span>（当 <spanclass="math inline"><em>σ</em><sub><em>i</em></sub> &gt; 0</span>时）</li></ul></li></ol><hr /><h2 id="分解后各部分的具体意义">📐 分解后各部分的具体意义</h2><h3 id="从几何变换的角度理解">从几何变换的角度理解</h3><p>想象矩阵 <span class="math inline"><em>A</em></span>将一个单位圆（2D）或单位球（3D）变换成一个椭圆或椭球。SVD分解告诉我们如何理解这个变换：</p><h4 id="vt-矩阵右奇异向量的意义"><spanclass="math inline"><em>V</em><sup><em>T</em></sup></span>矩阵（右奇异向量）的意义</h4><p><strong>作用</strong>：在输入空间中旋转，找到”最佳方向”</p><ul><li><span class="math inline"><em>v</em><sub>1</sub></span>是输入空间中<strong>最重要的方向</strong>（椭圆的长轴方向）</li><li><span class="math inline"><em>v</em><sub>2</sub></span>是输入空间中<strong>第二重要的方向</strong>（椭圆的短轴方向，与 <spanclass="math inline"><em>v</em><sub>1</sub></span> 垂直）</li><li>这些方向是<strong>相互正交</strong>的</li></ul><p><strong>直观理解</strong>： - 如果你在输入空间中沿着 <spanclass="math inline"><em>v</em><sub>1</sub></span>方向移动，变换后的影响最大 - 如果你沿着 <spanclass="math inline"><em>v</em><sub>2</sub></span>方向移动，变换后的影响较小 - <spanclass="math inline"><em>V</em><sup><em>T</em></sup></span>的作用是将坐标轴旋转到这些”最佳方向”</p><h4 id="sigma-矩阵奇异值的意义"><spanclass="math inline"><em>Σ</em></span> 矩阵（奇异值）的意义</h4><p><strong>作用</strong>：在最佳方向上分别缩放多少倍</p><ul><li><span class="math inline"><em>σ</em><sub>1</sub></span>是<strong>最大的缩放因子</strong>（椭圆的长轴长度）</li><li><span class="math inline"><em>σ</em><sub>2</sub></span>是<strong>第二大的缩放因子</strong>（椭圆的短轴长度）</li><li><spanclass="math inline"><em>σ</em><sub>1</sub> ≥ <em>σ</em><sub>2</sub> ≥ ⋯ ≥ 0</span></li></ul><p><strong>直观理解</strong>： - <spanclass="math inline"><em>σ</em><sub>1</sub></span>告诉我们：在最重要的方向 <spanclass="math inline"><em>v</em><sub>1</sub></span> 上，变换放大了多少倍 -<span class="math inline"><em>σ</em><sub>2</sub></span>告诉我们：在第二重要的方向 <spanclass="math inline"><em>v</em><sub>2</sub></span> 上，变换放大了多少倍 -如果 <span class="math inline"><em>σ</em><sub><em>i</em></sub></span>很小（接近 0），说明这个方向上的信息不重要，可以忽略</p><p><strong>关键性质</strong>： - 非零奇异值的个数 = 矩阵的秩（有效维度）- 奇异值的平方和 = 矩阵的 Frobenius 范数的平方（总能量） - 最大奇异值 =矩阵的 2-范数（最大可能的放大倍数）</p><h4 id="u-矩阵左奇异向量的意义"><spanclass="math inline"><em>U</em></span> 矩阵（左奇异向量）的意义</h4><p><strong>作用</strong>：在输出空间中旋转，确定最终方向</p><ul><li><span class="math inline"><em>u</em><sub>1</sub></span>是输出空间中<strong>最重要的方向</strong>（变换后椭圆长轴的方向）</li><li><span class="math inline"><em>u</em><sub>2</sub></span>是输出空间中<strong>第二重要的方向</strong>（变换后椭圆短轴的方向，与<span class="math inline"><em>u</em><sub>1</sub></span> 垂直）</li><li>这些方向也是<strong>相互正交</strong>的</li></ul><p><strong>直观理解</strong>： - <spanclass="math inline"><em>u</em><sub>1</sub></span>表示：变换后，数据主要沿着这个方向分布 - <spanclass="math inline"><em>u</em><sub>2</sub></span>表示：变换后，数据次要沿着这个方向分布 - <spanclass="math inline"><em>U</em></span>的作用是将缩放后的结果旋转到输出空间的最终方向</p><h3 id="完整的变换过程">完整的变换过程</h3><p>给定一个输入向量 <span class="math inline"><em>x</em></span>，SVD告诉我们变换 <span class="math inline"><em>A</em><em>x</em></span>的过程：</p><ol type="1"><li><strong>第一步</strong>：<spanclass="math inline"><em>V</em><sup><em>T</em></sup><em>x</em></span> -将 <span class="math inline"><em>x</em></span> 旋转到”最佳坐标系”</li><li><strong>第二步</strong>：<spanclass="math inline"><em>Σ</em>(<em>V</em><sup><em>T</em></sup><em>x</em>)</span>- 在最佳坐标系中分别缩放</li><li><strong>第三步</strong>：<spanclass="math inline"><em>U</em>(<em>Σ</em><em>V</em><sup><em>T</em></sup><em>x</em>)</span>- 将缩放后的结果旋转到输出方向</li></ol><p><strong>关键洞察</strong>：SVD找到了一个特殊的坐标系，在这个坐标系下，复杂的矩阵变换变成了简单的缩放操作。</p><h3 id="数值例子">数值例子</h3><p>考虑矩阵：</p><p><span class="math display">$$A = \begin{bmatrix} 3 &amp; 1 \\ 1 &amp;3 \end{bmatrix}$$</span></p><p>这个矩阵的 SVD 分解（近似值）：</p><p><span class="math display">$$A \approx \begin{bmatrix} 0.707 &amp;0.707 \\ 0.707 &amp; -0.707 \end{bmatrix} \begin{bmatrix} 4 &amp; 0 \\ 0&amp; 2 \end{bmatrix} \begin{bmatrix} 0.707 &amp; 0.707 \\ 0.707 &amp;-0.707 \end{bmatrix}^T$$</span></p><p><strong>理解</strong>： - <spanclass="math inline"><em>v</em><sub>1</sub> = [0.707,0.707]<sup><em>T</em></sup></span>：输入空间中最重要的方向（45度角）- <spanclass="math inline"><em>σ</em><sub>1</sub> = 4</span>：在这个方向上放大4 倍 - <spanclass="math inline"><em>v</em><sub>2</sub> = [0.707,−0.707]<sup><em>T</em></sup></span>：输入空间中第二重要的方向（-45度角）- <spanclass="math inline"><em>σ</em><sub>2</sub> = 2</span>：在这个方向上放大2 倍 - <spanclass="math inline"><em>u</em><sub>1</sub>, <em>u</em><sub>2</sub></span>：输出空间中对应的方向</p><p><strong>实际效果</strong>： - 如果你输入 <spanclass="math inline"><em>x</em> = [1,0]<sup><em>T</em></sup></span>（沿着x 轴），变换后主要沿着 <spanclass="math inline"><em>u</em><sub>1</sub></span> 方向，放大倍数约为 4 -如果你输入 <spanclass="math inline"><em>x</em> = [0,1]<sup><em>T</em></sup></span>（沿着y 轴），变换后主要沿着 <spanclass="math inline"><em>u</em><sub>2</sub></span> 方向，放大倍数约为2</p><hr /><h2 id="公式推导过程">🔍 公式推导过程</h2><h3 id="推导-1为什么-at-a-和-aat-的特征值相同">推导 1：为什么 <spanclass="math inline"><em>A</em><sup><em>T</em></sup><em>A</em></span> 和<spanclass="math inline"><em>A</em><em>A</em><sup><em>T</em></sup></span>的特征值相同？</h3><p>设 <span class="math inline"><em>λ</em></span> 是 <spanclass="math inline"><em>A</em><sup><em>T</em></sup><em>A</em></span>的特征值，对应的特征向量为 <spanclass="math inline"><em>v</em></span>，即：</p><p><spanclass="math display"><em>A</em><sup><em>T</em></sup><em>A</em><em>v</em> = <em>λ</em><em>v</em></span></p><p>两边同时左乘 <span class="math inline"><em>A</em></span>：</p><p><spanclass="math display"><em>A</em><em>A</em><sup><em>T</em></sup>(<em>A</em><em>v</em>) = <em>λ</em>(<em>A</em><em>v</em>)</span></p><p>这说明 <span class="math inline"><em>λ</em></span> 也是 <spanclass="math inline"><em>A</em><em>A</em><sup><em>T</em></sup></span>的特征值，对应的特征向量为 <spanclass="math inline"><em>A</em><em>v</em></span>（需要归一化）。</p><p><strong>结论</strong>：<spanclass="math inline"><em>A</em><sup><em>T</em></sup><em>A</em></span> 和<spanclass="math inline"><em>A</em><em>A</em><sup><em>T</em></sup></span>的非零特征值完全相同。</p><h3 id="推导-2奇异值与特征值的关系">推导 2：奇异值与特征值的关系</h3><p>从 <spanclass="math inline"><em>A</em><sup><em>T</em></sup><em>A</em><em>v</em> = <em>λ</em><em>v</em></span>和 <spanclass="math inline"><em>A</em> = <em>U</em><em>Σ</em><em>V</em><sup><em>T</em></sup></span>，我们有：</p><p><spanclass="math display"><em>A</em><sup><em>T</em></sup><em>A</em> = (<em>U</em><em>Σ</em><em>V</em><sup><em>T</em></sup>)<sup><em>T</em></sup>(<em>U</em><em>Σ</em><em>V</em><sup><em>T</em></sup>) = <em>V</em><em>Σ</em><sup><em>T</em></sup><em>U</em><sup><em>T</em></sup><em>U</em><em>Σ</em><em>V</em><sup><em>T</em></sup> = <em>V</em><em>Σ</em><sup><em>T</em></sup><em>Σ</em><em>V</em><sup><em>T</em></sup></span></p><p>因为 <span class="math inline"><em>U</em></span> 是正交矩阵（<spanclass="math inline"><em>U</em><sup><em>T</em></sup><em>U</em> = <em>I</em></span>），且<spanclass="math inline"><em>Σ</em><sup><em>T</em></sup><em>Σ</em></span>是对角矩阵，其对角线元素为 <spanclass="math inline"><em>σ</em><sub><em>i</em></sub><sup>2</sup></span>。</p><p>因此：</p><p><spanclass="math display"><em>A</em><sup><em>T</em></sup><em>A</em><em>v</em> = <em>V</em><em>Σ</em><sup><em>T</em></sup><em>Σ</em><em>V</em><sup><em>T</em></sup><em>v</em> = <em>λ</em><em>v</em></span></p><p>这说明 <spanclass="math inline"><em>λ</em><sub><em>i</em></sub> = <em>σ</em><sub><em>i</em></sub><sup>2</sup></span>，即：</p><p><span class="math display">$$\sigma_i = \sqrt{\lambda_i}$$</span></p><h3 id="推导-3如何从-at-a-的特征向量得到-u">推导 3：如何从 <spanclass="math inline"><em>A</em><sup><em>T</em></sup><em>A</em></span>的特征向量得到 <span class="math inline"><em>U</em></span>？</h3><p>已知 <spanclass="math inline"><em>A</em><sup><em>T</em></sup><em>A</em></span>的特征向量 <spanclass="math inline"><em>v</em><sub><em>i</em></sub></span>和对应的特征值 <spanclass="math inline"><em>λ</em><sub><em>i</em></sub></span>，我们有：</p><p><spanclass="math display"><em>A</em><sup><em>T</em></sup><em>A</em><em>v</em><sub><em>i</em></sub> = <em>λ</em><sub><em>i</em></sub><em>v</em><sub><em>i</em></sub></span></p><p>两边同时左乘 <span class="math inline"><em>A</em></span>：</p><p><spanclass="math display"><em>A</em><em>A</em><sup><em>T</em></sup>(<em>A</em><em>v</em><sub><em>i</em></sub>) = <em>λ</em><sub><em>i</em></sub>(<em>A</em><em>v</em><sub><em>i</em></sub>)</span></p><p>这说明 <spanclass="math inline"><em>A</em><em>v</em><sub><em>i</em></sub></span> 是<spanclass="math inline"><em>A</em><em>A</em><sup><em>T</em></sup></span>的特征向量，对应的特征值为 <spanclass="math inline"><em>λ</em><sub><em>i</em></sub></span>。</p><p>为了得到单位化的左奇异向量 <spanclass="math inline"><em>u</em><sub><em>i</em></sub></span>，我们需要：</p><p><span class="math display">$$u_i = \frac{A v_i}{\|Av_i\|}$$</span></p><p>计算 <spanclass="math inline">∥<em>A</em><em>v</em><sub><em>i</em></sub>∥</span>：</p><p><spanclass="math display">∥<em>A</em><em>v</em><sub><em>i</em></sub>∥<sup>2</sup> = (<em>A</em><em>v</em><sub><em>i</em></sub>)<sup><em>T</em></sup>(<em>A</em><em>v</em><sub><em>i</em></sub>) = <em>v</em><sub><em>i</em></sub><sup><em>T</em></sup><em>A</em><sup><em>T</em></sup><em>A</em><em>v</em><sub><em>i</em></sub> = <em>v</em><sub><em>i</em></sub><sup><em>T</em></sup><em>λ</em><sub><em>i</em></sub><em>v</em><sub><em>i</em></sub> = <em>λ</em><sub><em>i</em></sub>∥<em>v</em><sub><em>i</em></sub>∥<sup>2</sup> = <em>λ</em><sub><em>i</em></sub> = <em>σ</em><sub><em>i</em></sub><sup>2</sup></span></p><p>因此：</p><p><spanclass="math display">∥<em>A</em><em>v</em><sub><em>i</em></sub>∥ = <em>σ</em><sub><em>i</em></sub></span></p><p>所以：</p><p><span class="math display">$$u_i = \frac{Av_i}{\sigma_i}$$</span></p><h3 id="推导-4svd-分解的唯一性">推导 4：SVD 分解的唯一性</h3><p><strong>定理</strong>：对于矩阵 <spanclass="math inline"><em>A</em></span>，奇异值是唯一的（在排序后），但<span class="math inline"><em>U</em></span> 和 <spanclass="math inline"><em>V</em></span> 的选择可能不唯一。</p><p><strong>证明</strong>： - 奇异值 <span class="math inline">$\sigma_i= \sqrt{\lambda_i}$</span>，其中 <spanclass="math inline"><em>λ</em><sub><em>i</em></sub></span> 是 <spanclass="math inline"><em>A</em><sup><em>T</em></sup><em>A</em></span>的特征值，特征值是唯一的 - 如果 <spanclass="math inline"><em>σ</em><sub><em>i</em></sub></span>是单根（没有重复），则对应的 <spanclass="math inline"><em>u</em><sub><em>i</em></sub></span> 和 <spanclass="math inline"><em>v</em><sub><em>i</em></sub></span>方向唯一（符号可能不同） - 如果 <spanclass="math inline"><em>σ</em><sub><em>i</em></sub></span>是重根，则对应的 <spanclass="math inline"><em>u</em><sub><em>i</em></sub></span> 和 <spanclass="math inline"><em>v</em><sub><em>i</em></sub></span>可以在对应的子空间中任意选择正交基</p><hr /><h2 id="奇异值的数学性质">📊 奇异值的数学性质</h2><h3 id="能量解释">能量解释</h3><p>奇异值的平方和等于矩阵的 Frobenius 范数的平方：</p><p><span class="math display">$$\|A\|_F^2 = \sum_{i=1}^r\sigma_i^2$$</span></p><p><strong>证明</strong>： <span class="math display">$$\|A\|_F^2 =\text{tr}(A^T A) = \text{tr}(V \Sigma^T U^T U \Sigma V^T) = \text{tr}(V\Sigma^T \Sigma V^T) = \text{tr}(\Sigma^T \Sigma) = \sum_{i=1}^r\sigma_i^2$$</span></p><p>前 <span class="math inline"><em>k</em></span>个奇异值占总能量的比例：</p><p><span class="math display">$$\frac{\sum_{i=1}^k\sigma_i^2}{\sum_{i=1}^r \sigma_i^2}$$</span></p><p>这个比例可以用来评估低秩近似的质量。</p><h3 id="矩阵范数的关系">矩阵范数的关系</h3><p><strong>Frobenius 范数</strong>： <spanclass="math display">$$\|A\|_F = \sqrt{\sum_{i=1}^r\sigma_i^2}$$</span></p><p><strong>2-范数（谱范数）</strong>： <spanclass="math display">∥<em>A</em>∥<sub>2</sub> = <em>σ</em><sub>1</sub></span></p><p><strong>核范数（Nuclear Norm）</strong>： <spanclass="math display">$$\|A\|_* = \sum_{i=1}^r \sigma_i$$</span></p><h3 id="矩阵的秩">矩阵的秩</h3><p>矩阵 <span class="math inline"><em>A</em></span>的秩等于非零奇异值的个数：</p><p><spanclass="math display">rank(<em>A</em>) = #{<em>σ</em><sub><em>i</em></sub> : <em>σ</em><sub><em>i</em></sub> &gt; 0}</span></p><p><strong>证明</strong>：因为 <spanclass="math inline"><em>A</em> = <em>U</em><em>Σ</em><em>V</em><sup><em>T</em></sup></span>，且<span class="math inline"><em>U</em></span> 和 <spanclass="math inline"><em>V</em></span> 都是满秩的，所以 <spanclass="math inline">rank(<em>A</em>) = rank(<em>Σ</em>)</span>，而 <spanclass="math inline">rank(<em>Σ</em>)</span> 等于非零对角元素的个数。</p><hr /><h2 id="svd-的存在性证明">🔬 SVD 的存在性证明</h2><h3 id="定理svd-分解的存在性">定理：SVD 分解的存在性</h3><p>对于任意矩阵 <spanclass="math inline"><em>A</em> ∈ ℝ<sup><em>m</em> × <em>n</em></sup></span>，总存在SVD 分解 <spanclass="math inline"><em>A</em> = <em>U</em><em>Σ</em><em>V</em><sup><em>T</em></sup></span>。</p><h3 id="证明步骤">证明步骤</h3><p><strong>步骤 1</strong>：考虑 <spanclass="math inline"><em>A</em><sup><em>T</em></sup><em>A</em></span>，这是一个<span class="math inline"><em>n</em> × <em>n</em></span>的对称半正定矩阵。</p><p><strong>步骤 2</strong>：根据对称矩阵的性质，<spanclass="math inline"><em>A</em><sup><em>T</em></sup><em>A</em></span>可以对角化： <spanclass="math display"><em>A</em><sup><em>T</em></sup><em>A</em> = <em>V</em><em>Λ</em><em>V</em><sup><em>T</em></sup></span></p><p>其中： - <span class="math inline"><em>Λ</em></span>是对角矩阵，对角线元素为特征值 <spanclass="math inline"><em>λ</em><sub>1</sub> ≥ <em>λ</em><sub>2</sub> ≥ ⋯ ≥ <em>λ</em><sub><em>n</em></sub> ≥ 0</span>- <span class="math inline"><em>V</em></span>是正交矩阵，列向量为对应的特征向量</p><p><strong>步骤 3</strong>：定义奇异值 <spanclass="math inline">$\sigma_i = \sqrt{\lambda_i}$</span>，构建 <spanclass="math inline"><em>Σ</em></span> 矩阵。</p><p><strong>步骤 4</strong>：对于 <spanclass="math inline"><em>σ</em><sub><em>i</em></sub> &gt; 0</span>，定义：<span class="math display">$$u_i = \frac{1}{\sigma_i} A v_i$$</span></p><p><strong>步骤 5</strong>：验证 <spanclass="math inline"><em>u</em><sub><em>i</em></sub></span>是单位向量且相互正交： - <span class="math inline">$\|u_i\|^2 =\frac{1}{\sigma_i^2} v_i^T A^T A v_i = \frac{1}{\sigma_i^2} \lambda_i =1$</span> - <span class="math inline">$u_i^T u_j = \frac{1}{\sigma_i\sigma_j} v_i^T A^T A v_j = \frac{1}{\sigma_i \sigma_j} \lambda_j v_i^Tv_j = 0$</span>（当 <spanclass="math inline"><em>i</em> ≠ <em>j</em></span> 时）</p><p><strong>步骤 6</strong>：对于 <spanclass="math inline"><em>σ</em><sub><em>i</em></sub> = 0</span>的情况，<span class="math inline"><em>u</em><sub><em>i</em></sub></span>可以通过 Gram-Schmidt 正交化过程补充，使得 <spanclass="math inline"><em>U</em></span> 成为完整的正交矩阵。</p><p><strong>步骤 7</strong>：验证 <spanclass="math inline"><em>A</em> = <em>U</em><em>Σ</em><em>V</em><sup><em>T</em></sup></span>：<span class="math display">$$U \Sigma V^T = \sum_{i=1}^r \sigma_i u_iv_i^T = \sum_{i=1}^r A v_i v_i^T = A \sum_{i=1}^r v_i v_i^T = A V V^T =A$$</span></p><p>其中 <span class="math inline"><em>r</em></span>是非零奇异值的个数。</p><hr /><h2 id="低秩近似的理论保证">📐 低秩近似的理论保证</h2><h3 id="eckart-young-mirsky-定理">Eckart-Young-Mirsky 定理</h3><p><strong>定理</strong>：对于矩阵 <spanclass="math inline"><em>A</em></span> 的 SVD 分解 <spanclass="math inline"><em>A</em> = <em>U</em><em>Σ</em><em>V</em><sup><em>T</em></sup></span>，最佳<span class="math inline"><em>k</em></span> 秩近似为：</p><p><span class="math display">$$A_k = U_k \Sigma_k V_k^T = \sum_{i=1}^k\sigma_i u_i v_i^T$$</span></p><p>其中 <spanclass="math inline"><em>U</em><sub><em>k</em></sub></span>、<spanclass="math inline"><em>Σ</em><sub><em>k</em></sub></span>、<spanclass="math inline"><em>V</em><sub><em>k</em></sub></span> 分别是保留前<span class="math inline"><em>k</em></span> 个奇异值对应的部分。</p><p><strong>对于 Frobenius 范数</strong>： <spanclass="math display">$$\min_{\text{rank}(B) \leq k} \|A - B\|_F^2 = \|A- A_k\|_F^2 = \sum_{i=k+1}^r \sigma_i^2$$</span></p><p><strong>对于 2-范数（谱范数）</strong>： <spanclass="math display">min<sub>rank(<em>B</em>) ≤ <em>k</em></sub>∥<em>A</em> − <em>B</em>∥<sub>2</sub> = ∥<em>A</em> − <em>A</em><sub><em>k</em></sub>∥<sub>2</sub> = <em>σ</em><sub><em>k</em> + 1</sub></span></p><h3 id="证明思路frobenius-范数">证明思路（Frobenius 范数）</h3><p>设 <span class="math inline"><em>B</em></span> 是任意 <spanclass="math inline"><em>k</em></span> 秩矩阵，可以写成 <spanclass="math inline"><em>B</em> = <em>X</em><em>Y</em><sup><em>T</em></sup></span>，其中<spanclass="math inline"><em>X</em> ∈ ℝ<sup><em>m</em> × <em>k</em></sup></span>，<spanclass="math inline"><em>Y</em> ∈ ℝ<sup><em>n</em> × <em>k</em></sup></span>。</p><p>最小化 <spanclass="math inline">∥<em>A</em> − <em>X</em><em>Y</em><sup><em>T</em></sup>∥<sub><em>F</em></sub><sup>2</sup></span>等价于最大化 <spanclass="math inline">tr(<em>A</em><sup><em>T</em></sup><em>X</em><em>Y</em><sup><em>T</em></sup>)</span>。</p><p>通过拉格朗日乘数法和矩阵微积分，可以证明最优解为： <spanclass="math display"><em>X</em> = <em>U</em><sub><em>k</em></sub>,  <em>Y</em> = <em>V</em><sub><em>k</em></sub><em>Σ</em><sub><em>k</em></sub></span></p><p>因此 <spanclass="math inline"><em>A</em><sub><em>k</em></sub> = <em>U</em><sub><em>k</em></sub><em>Σ</em><sub><em>k</em></sub><em>V</em><sub><em>k</em></sub><sup><em>T</em></sup></span>是最佳 <span class="math inline"><em>k</em></span> 秩近似。</p><h3 id="低秩近似的应用">低秩近似的应用</h3><p>通过保留前 <span class="math inline"><em>k</em></span>个最大的奇异值，可以得到矩阵 <span class="math inline"><em>A</em></span>的最佳 <span class="math inline"><em>k</em></span> 秩近似：</p><p><spanclass="math display"><em>A</em><sub><em>k</em></sub> = <em>U</em><sub><em>k</em></sub><em>Σ</em><sub><em>k</em></sub><em>V</em><sub><em>k</em></sub><sup><em>T</em></sup></span></p><p>其中 <span class="math inline"><em>U</em><sub><em>k</em></sub></span>是 <span class="math inline"><em>U</em></span> 的前 <spanclass="math inline"><em>k</em></span> 列，<spanclass="math inline"><em>Σ</em><sub><em>k</em></sub></span> 是前 <spanclass="math inline"><em>k</em></span> 个奇异值组成的对角矩阵，<spanclass="math inline"><em>V</em><sub><em>k</em></sub></span> 是 <spanclass="math inline"><em>V</em></span> 的前 <spanclass="math inline"><em>k</em></span> 列。</p><hr /><h2 id="svd-分解的应用意义">🎯 SVD 分解的应用意义</h2><h3 id="为什么-svd-如此重要">为什么 SVD 如此重要？</h3><p>SVD 的重要性在于它<strong>揭示了数据的本质结构</strong>：</p><ol type="1"><li><strong>找到主要方向</strong>：告诉我们数据在哪些方向上变化最大</li><li><strong>量化重要性</strong>：告诉我们每个方向的重要性（通过奇异值）</li><li><strong>去除冗余</strong>：小的奇异值对应的方向可以忽略，从而实现降维和去噪</li></ol><h3 id="应用场景的直观理解">应用场景的直观理解</h3><h4 id="数据降维">1. 数据降维</h4><p><strong>问题</strong>：数据有 1000 个特征，但可能只有 10个是真正重要的。</p><p><strong>SVD 的解决方案</strong>： - 通过 SVD，我们发现前 10 个奇异值<spanclass="math inline"><em>σ</em><sub>1</sub>, …, <em>σ</em><sub>10</sub></span>很大 - 后面的奇异值 <spanclass="math inline"><em>σ</em><sub>11</sub>, …, <em>σ</em><sub>1000</sub></span>很小（接近 0） - <strong>结论</strong>：数据实际上只在这 10个方向上变化，其他方向是冗余的 - <strong>操作</strong>：只保留前 10个奇异值和对应的 <span class="math inline"><em>U</em></span>、<spanclass="math inline"><em>V</em></span>，将 1000 维降维到 10 维</p><p><strong>直观理解</strong>：就像一张照片，大部分像素是相似的，只有少数像素是关键的。SVD帮我们找到这些关键像素。</p><h4 id="主成分分析pca">2. 主成分分析（PCA）</h4><p><strong>问题</strong>：数据有很多特征，但很多特征是相关的（比如身高和体重）。</p><p><strong>SVD 的解决方案</strong>： - <spanclass="math inline"><em>V</em></span> 的列向量（<spanclass="math inline"><em>v</em><sub>1</sub>, <em>v</em><sub>2</sub>, …</span>）是<strong>主成分方向</strong>- <spanclass="math inline"><em>σ</em><sub>1</sub><sup>2</sup>, <em>σ</em><sub>2</sub><sup>2</sup>, …</span>是每个主成分的<strong>方差</strong>（重要性） - 第一个主成分 <spanclass="math inline"><em>v</em><sub>1</sub></span> 是数据变化最大的方向 -第二个主成分 <span class="math inline"><em>v</em><sub>2</sub></span>是数据变化第二大的方向（且与 <spanclass="math inline"><em>v</em><sub>1</sub></span> 垂直）</p><p><strong>直观理解</strong>：如果数据是二维的（身高、体重），SVD会找到一条”最佳直线”，数据沿着这条直线分布最集中。这条直线就是第一主成分。</p><h4 id="图像压缩">3. 图像压缩</h4><p><strong>问题</strong>：一张 1000×1000 的图片需要存储 100万个像素值。</p><p><strong>SVD 的解决方案</strong>： - 将图像矩阵 <spanclass="math inline"><em>A</em></span> 进行 SVD 分解 - 发现前 50个奇异值很大，后面的都很小 - <strong>操作</strong>：只保留前 50个奇异值和对应的 <span class="math inline"><em>U</em></span>、<spanclass="math inline"><em>V</em></span> - <strong>结果</strong>：从 100万个数字压缩到约 10 万个数字（50 个奇异值 + <spanclass="math inline"><em>U</em></span> 的 50 列 + <spanclass="math inline"><em>V</em></span> 的 50 列）</p><p><strong>直观理解</strong>： - <spanclass="math inline"><em>U</em></span>的列：图像的”行模式”（比如水平线条、垂直线条） - <spanclass="math inline"><em>V</em></span> 的列：图像的”列模式” - <spanclass="math inline"><em>σ</em><sub><em>i</em></sub></span>：每个模式的重要性- 重要的模式（大奇异值）保留，不重要的模式（小奇异值）丢弃</p><h4 id="推荐系统">4. 推荐系统</h4><p><strong>问题</strong>：有 100 万用户和 10万部电影，如何预测用户对电影的评分？</p><p><strong>SVD 的解决方案</strong>： - 构建用户-电影评分矩阵 <spanclass="math inline"><em>A</em></span>（100万行 × 10万列） - 进行 SVD分解：<spanclass="math inline"><em>A</em> = <em>U</em><em>Σ</em><em>V</em><sup><em>T</em></sup></span>- <strong>理解</strong>： - <span class="math inline"><em>U</em></span>的列：用户的”潜在特征”（比如”喜欢动作片”、“喜欢爱情片”） - <spanclass="math inline"><em>V</em></span>的列：电影的”潜在特征”（比如”动作片”、“爱情片”） - <spanclass="math inline"><em>σ</em><sub><em>i</em></sub></span>：每个特征的重要性- <strong>预测</strong>：用户 <spanclass="math inline"><em>i</em></span> 对电影 <spanclass="math inline"><em>j</em></span> 的评分 ≈ <spanclass="math inline"><em>U</em>[<em>i</em>,:]<em>Σ</em><em>V</em><sup><em>T</em></sup>[:,<em>j</em>]</span></p><p><strong>直观理解</strong>：SVD发现了用户和电影的”潜在类型”。比如发现用户可以分为”动作片爱好者”和”爱情片爱好者”，电影也可以分为”动作片”和”爱情片”。通过匹配用户类型和电影类型，可以预测评分。</p><h4 id="噪声去除">5. 噪声去除</h4><p><strong>问题</strong>：数据中有噪声，如何去除？</p><p><strong>SVD 的解决方案</strong>： - 对数据矩阵进行 SVD 分解 - 发现前<span class="math inline"><em>k</em></span> 个奇异值很大（对应真实信号）- 后面的奇异值很小（对应噪声） - <strong>操作</strong>：只保留前 <spanclass="math inline"><em>k</em></span> 个奇异值，丢弃后面的 -<strong>结果</strong>：重构后的数据去除了噪声</p><p><strong>直观理解</strong>：就像调收音机，信号强的频道（大奇异值）保留，信号弱的频道（小奇异值，可能是噪声）过滤掉。</p><hr /><h2 id="总结">📝 总结</h2><p>SVD 奇异值分解是一个强大而通用的工具，在多个领域都有重要应用：</p><ol type="1"><li>✅<strong>理论基础完善</strong>：存在性、唯一性、最优性都有严格的数学证明</li><li>✅ <strong>计算步骤清晰</strong>：通过特征值分解即可实现</li><li>✅ <strong>各部分意义明确</strong>：<spanclass="math inline"><em>U</em></span>、<spanclass="math inline"><em>Σ</em></span>、<spanclass="math inline"><em>V</em></span> 都有清晰的数学和几何解释</li><li>✅<strong>应用广泛</strong>：数据降维、图像压缩、推荐系统、噪声去除等</li></ol><p>通过理解 SVD的数学原理和公式推导，我们可以更好地应用这一工具处理高维数据和复杂问题。</p><hr /><h2 id="相关资源">🔗 相关资源</h2><ul><li><ahref="https://numpy.org/doc/stable/reference/generated/numpy.linalg.svd.html">NumPySVD 文档</a></li><li><ahref="https://scikit-learn.org/stable/modules/generated/sklearn.decomposition.TruncatedSVD.html">scikit-learnTruncatedSVD</a></li><li><a href="https://www.uv.es/~ruizcan/teaching/svd/svd.html">SVD可视化工具</a></li></ul><hr /><p><em>希望这个教程能帮助你深入理解 SVD 分解的原理和应用！</em></p>]]></content>
    
    
    <categories>
      
      <category>技术教程</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Yike</tag>
      
      <tag>教程</tag>
      
      <tag>数学</tag>
      
      <tag>线性代数</tag>
      
      <tag>机器学习</tag>
      
      <tag>数据科学</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Hexo 博客搭建完整指南：从安装到部署</title>
    <link href="/2025/11/08/hexo-beginner-guide/"/>
    <url>/2025/11/08/hexo-beginner-guide/</url>
    
    <content type="html"><![CDATA[<h1 id="hexo-博客搭建完整指南从安装到部署">Hexo博客搭建完整指南：从安装到部署</h1><h2 id="前言">📖 前言</h2><p>Hexo 是一个快速、简洁且高效的博客框架，使用 Markdown解析文章，可以在几秒内生成静态网页。本文将带你从零开始，完成 Hexo博客的安装、主题配置，并通过 GitHub Actions 自动部署到 GitHubPages。</p><h2 id="本教程内容">🎯 本教程内容</h2><ul><li>环境准备（Node.js、Git）</li><li>Hexo 安装与初始化</li><li>主题安装与配置（以 Fluid 主题为例）</li><li>创建两个 GitHub 仓库（源码仓库和 Pages 仓库）</li><li>配置 GitHub Actions 自动部署</li><li>创建第一篇文章并发布</li></ul><h2 id="部署架构">🏗️ 部署架构</h2><p>本教程采用<strong>双仓库 + GitHub Actions</strong> 的部署方案：</p><ul><li><strong>源码仓库</strong>：存放 Hexo 源码（Markdown文件、配置文件等）</li><li><strong>Pages 仓库</strong>：存放编译后的静态文件（由 GitHub Actions自动更新）</li><li><strong>GitHub Actions</strong>：自动编译源码并部署到 Pages仓库</li></ul><p><strong>优势：</strong> - 本地只需写代码和推送，无需手动编译部署 -源码和生成文件分离，仓库更清晰 -支持多设备协作，任何地方都能更新博客</p><hr /><h2 id="第一步环境准备">第一步：环境准备</h2><h3 id="安装-node.js">1.1 安装 Node.js</h3><p>Hexo 基于 Node.js，所以首先需要安装 Node.js。</p><ol type="1"><li><strong>访问 Node.js 官网</strong><ul><li>网址：https://nodejs.org/</li><li>下载 LTS（长期支持）版本</li></ul></li><li><strong>安装 Node.js</strong><ul><li>Windows：下载 <code>.msi</code> 安装包，双击安装</li><li>macOS：下载 <code>.pkg</code> 安装包，或使用Homebrew：<code>brew install node</code></li><li>Linux：使用包管理器安装</li></ul></li><li><strong>验证安装</strong></li></ol><p>打开终端（Windows 使用 PowerShell 或 CMD），执行：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash">node -v<br>npm -v<br></code></pre></td></tr></table></figure><p>如果显示版本号，说明安装成功。</p><h3 id="安装-git">1.2 安装 Git</h3><p>Git 用于版本控制和代码推送。</p><ol type="1"><li><strong>访问 Git 官网</strong><ul><li>网址：https://git-scm.com/</li><li>下载对应系统的安装包</li></ul></li><li><strong>安装 Git</strong><ul><li>按照安装向导完成安装</li><li>安装时建议选择 “Git from the command line and also from 3rd-partysoftware”</li></ul></li><li><strong>验证安装</strong></li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">git --version<br></code></pre></td></tr></table></figure><h3 id="配置-git首次使用">1.3 配置 Git（首次使用）</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash">git config --global user.name <span class="hljs-string">&quot;Your Name&quot;</span><br>git config --global user.email <span class="hljs-string">&quot;your-email@example.com&quot;</span><br></code></pre></td></tr></table></figure><hr /><h2 id="第二步安装-hexo">第二步：安装 Hexo</h2><h3 id="全局安装-hexo-cli">2.1 全局安装 Hexo CLI</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">npm install -g hexo-cli<br></code></pre></td></tr></table></figure><h3 id="验证安装">2.2 验证安装</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">hexo version<br></code></pre></td></tr></table></figure><p>如果显示版本号，说明安装成功。</p><hr /><h2 id="第三步初始化-hexo-项目">第三步：初始化 Hexo 项目</h2><h3 id="创建项目目录">3.1 创建项目目录</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># 创建一个文件夹用于存放博客源码</span><br><span class="hljs-built_in">mkdir</span> my-blog<br><span class="hljs-built_in">cd</span> my-blog<br></code></pre></td></tr></table></figure><h3 id="初始化-hexo">3.2 初始化 Hexo</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">hexo init<br></code></pre></td></tr></table></figure><p>这个命令会： - 创建 Hexo 项目结构 - 安装必要的依赖包</p><h3 id="安装依赖">3.3 安装依赖</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">npm install<br></code></pre></td></tr></table></figure><h3 id="项目结构说明">3.4 项目结构说明</h3><p>初始化完成后，项目结构如下：</p><figure class="highlight nix"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs nix">my-blog<span class="hljs-symbol">/</span><br>├── _config.yml          <span class="hljs-comment"># 网站配置文件</span><br>├── package.json         <span class="hljs-comment"># 项目依赖配置</span><br>├── scaffolds<span class="hljs-symbol">/</span>           <span class="hljs-comment"># 模板文件夹</span><br>├── source<span class="hljs-symbol">/</span>              <span class="hljs-comment"># 源文件目录</span><br>│   └── _posts<span class="hljs-symbol">/</span>          <span class="hljs-comment"># 文章目录</span><br>└── themes<span class="hljs-symbol">/</span>              <span class="hljs-comment"># 主题目录</span><br></code></pre></td></tr></table></figure><h3 id="本地预览">3.5 本地预览</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs bash">hexo server<br><span class="hljs-comment"># 或简写</span><br>hexo s<br></code></pre></td></tr></table></figure><p>然后在浏览器访问 <code>http://localhost:4000</code>，可以看到默认的Hexo 博客。</p><p>按 <code>Ctrl + C</code> 停止服务器。</p><hr /><h2 id="第四步配置-hexo">第四步：配置 Hexo</h2><h3 id="编辑网站配置">4.1 编辑网站配置</h3><p>编辑项目根目录的 <code>_config.yml</code> 文件：</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs yaml"><span class="hljs-comment"># Site</span><br><span class="hljs-attr">title:</span> <span class="hljs-string">我的博客</span>                    <span class="hljs-comment"># 网站标题</span><br><span class="hljs-attr">subtitle:</span> <span class="hljs-string">&#x27;个人技术分享&#x27;</span>            <span class="hljs-comment"># 网站副标题</span><br><span class="hljs-attr">description:</span> <span class="hljs-string">&#x27;记录学习与成长&#x27;</span>        <span class="hljs-comment"># 网站描述</span><br><span class="hljs-attr">keywords:</span> <span class="hljs-string">技术,博客,学习</span>            <span class="hljs-comment"># 网站关键词</span><br><span class="hljs-attr">author:</span> <span class="hljs-string">Your</span> <span class="hljs-string">Name</span>                   <span class="hljs-comment"># 作者名称</span><br><span class="hljs-attr">language:</span> <span class="hljs-string">zh-CN</span>                     <span class="hljs-comment"># 语言</span><br><span class="hljs-attr">timezone:</span> <span class="hljs-string">&#x27;Asia/Shanghai&#x27;</span>          <span class="hljs-comment"># 时区</span><br><br><span class="hljs-comment"># URL（先不配置，等创建 Pages 仓库后再填写）</span><br><span class="hljs-attr">url:</span> <span class="hljs-string">https://your-username.github.io</span>  <span class="hljs-comment"># 你的 GitHub Pages 地址</span><br><span class="hljs-attr">permalink:</span> <span class="hljs-string">:year/:month/:day/:title/</span>  <span class="hljs-comment"># 文章永久链接格式</span><br></code></pre></td></tr></table></figure><hr /><h2 id="第五步安装和配置主题">第五步：安装和配置主题</h2><p>Hexo 默认主题比较简洁，我们可以安装更美观的主题。这里以<strong>Fluid</strong> 主题为例。</p><h3 id="安装-fluid-主题">5.1 安装 Fluid 主题</h3><p>在项目根目录执行：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">npm install --save hexo-theme-fluid<br></code></pre></td></tr></table></figure><h3 id="启用主题">5.2 启用主题</h3><p>编辑 <code>_config.yml</code>，找到 <code>theme</code> 配置：</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs yaml"><span class="hljs-attr">theme:</span> <span class="hljs-string">fluid</span><br></code></pre></td></tr></table></figure><h3 id="创建主题配置文件">5.3 创建主题配置文件</h3><p>复制主题配置模板：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># Windows PowerShell</span><br>Copy-Item node_modules\hexo-theme-fluid\_config.yml _config.fluid.yml<br><br><span class="hljs-comment"># Linux/Mac</span><br><span class="hljs-built_in">cp</span> node_modules/hexo-theme-fluid/_config.yml _config.fluid.yml<br></code></pre></td></tr></table></figure><h3 id="配置主题">5.4 配置主题</h3><p>编辑 <code>_config.fluid.yml</code>文件，可以自定义主题样式。主要配置项：</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs yaml"><span class="hljs-comment"># 导航栏配置</span><br><span class="hljs-attr">navbar:</span><br>  <span class="hljs-attr">blog_title:</span> <span class="hljs-string">&quot;我的博客&quot;</span>           <span class="hljs-comment"># 博客标题</span><br>  <span class="hljs-attr">menu:</span><br>    <span class="hljs-bullet">-</span> &#123; <span class="hljs-attr">key:</span> <span class="hljs-string">&quot;home&quot;</span>, <span class="hljs-attr">link:</span> <span class="hljs-string">&quot;/&quot;</span>, <span class="hljs-attr">icon:</span> <span class="hljs-string">&quot;iconfont icon-home-fill&quot;</span> &#125;<br>    <span class="hljs-bullet">-</span> &#123; <span class="hljs-attr">key:</span> <span class="hljs-string">&quot;archive&quot;</span>, <span class="hljs-attr">link:</span> <span class="hljs-string">&quot;/archives/&quot;</span>, <span class="hljs-attr">icon:</span> <span class="hljs-string">&quot;iconfont icon-archive-fill&quot;</span> &#125;<br>    <span class="hljs-bullet">-</span> &#123; <span class="hljs-attr">key:</span> <span class="hljs-string">&quot;categories&quot;</span>, <span class="hljs-attr">link:</span> <span class="hljs-string">&quot;/categories/&quot;</span>, <span class="hljs-attr">icon:</span> <span class="hljs-string">&quot;iconfont icon-category-fill&quot;</span> &#125;<br>    <span class="hljs-bullet">-</span> &#123; <span class="hljs-attr">key:</span> <span class="hljs-string">&quot;tags&quot;</span>, <span class="hljs-attr">link:</span> <span class="hljs-string">&quot;/tags/&quot;</span>, <span class="hljs-attr">icon:</span> <span class="hljs-string">&quot;iconfont icon-tags-fill&quot;</span> &#125;<br>    <span class="hljs-bullet">-</span> &#123; <span class="hljs-attr">key:</span> <span class="hljs-string">&quot;about&quot;</span>, <span class="hljs-attr">link:</span> <span class="hljs-string">&quot;/about/&quot;</span>, <span class="hljs-attr">icon:</span> <span class="hljs-string">&quot;iconfont icon-user-fill&quot;</span> &#125;<br><br><span class="hljs-comment"># 首页配置</span><br><span class="hljs-attr">index:</span><br>  <span class="hljs-attr">post_cover:</span> <span class="hljs-literal">true</span>                  <span class="hljs-comment"># 文章封面</span><br>  <span class="hljs-attr">post_cover_default:</span> <span class="hljs-string">&#x27;/img/default.png&#x27;</span>  <span class="hljs-comment"># 默认封面</span><br><br><span class="hljs-comment"># 文章页配置</span><br><span class="hljs-attr">post:</span><br>  <span class="hljs-attr">math:</span><br>    <span class="hljs-attr">enable:</span> <span class="hljs-literal">true</span>                    <span class="hljs-comment"># 数学公式支持</span><br>  <span class="hljs-attr">code:</span><br>    <span class="hljs-attr">copy_btn:</span> <span class="hljs-literal">true</span>                  <span class="hljs-comment"># 代码复制按钮</span><br></code></pre></td></tr></table></figure><p>更多配置选项可以查看 <ahref="https://hexo.fluid-dev.com/docs/guide/">Fluid 主题文档</a>。</p><h3 id="预览主题效果">5.5 预览主题效果</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs bash">hexo clean<br>hexo generate<br>hexo server<br></code></pre></td></tr></table></figure><p>访问 <code>http://localhost:4000</code> 查看新主题效果。</p><hr /><h2 id="第六步创建-github-仓库">第六步：创建 GitHub 仓库</h2><p>我们需要创建<strong>两个仓库</strong>：</p><ol type="1"><li><strong>源码仓库</strong>：存放 Hexo 源码（如<code>my-blog</code>）</li><li><strong>Pages 仓库</strong>：存放编译后的静态文件（如<code>your-username.github.io</code>）</li></ol><h3 id="创建源码仓库">6.1 创建源码仓库</h3><ol type="1"><li><strong>登录 GitHub</strong><ul><li>访问：https://github.com</li><li>如果没有账号，先注册</li></ul></li><li><strong>创建源码仓库</strong><ul><li>点击右上角 “+” → “New repository”</li><li><strong>仓库名</strong>：<code>my-blog</code>（或你喜欢的名字）</li><li>选择 <strong>Public</strong> 或<strong>Private</strong>（都可以）</li><li><strong>不要</strong>勾选 “Initialize this repository with aREADME”</li><li>点击 “Create repository”</li></ul></li></ol><h3 id="创建-pages-仓库">6.2 创建 Pages 仓库</h3><ol type="1"><li><strong>创建 Pages 仓库</strong><ul><li>点击 “+” → “New repository”</li><li><strong>仓库名格式</strong>：<code>your-username.github.io</code>（<strong>必须与你的GitHub 用户名一致</strong>）</li><li>选择 <strong>Public</strong>（公开）</li><li><strong>不要</strong>勾选 “Initialize this repository with aREADME”</li><li>点击 “Create repository”</li></ul></li><li><strong>配置 Pages 仓库</strong><ul><li>进入刚创建的 Pages 仓库</li><li>点击 <strong>Settings</strong> → <strong>Pages</strong></li><li><strong>Source</strong> 选择 <code>Deploy from a branch</code></li><li><strong>Branch</strong> 选择 <code>main</code>，文件夹选择<code>/ (root)</code></li><li>点击 “Save”</li></ul></li></ol><hr /><h2 id="第七步配置-github-actions">第七步：配置 GitHub Actions</h2><h3 id="生成-github-personal-access-token">7.1 生成 GitHub PersonalAccess Token</h3><ol type="1"><li><strong>进入 GitHub 设置</strong><ul><li>点击右上角头像 → <strong>Settings</strong></li><li>左侧菜单找到 <strong>Developer settings</strong></li><li>点击 <strong>Personal access tokens</strong> → <strong>Tokens(classic)</strong></li></ul></li><li><strong>生成新 Token</strong><ul><li>点击 <strong>Generate new token</strong> → <strong>Generate newtoken (classic)</strong></li><li><strong>Note</strong>：填写描述，如 “Hexo Deploy”</li><li><strong>Expiration</strong>：选择过期时间（建议选择较长时间）</li><li><strong>Select scopes</strong>：勾选<code>repo</code>（全部权限）</li><li>点击 <strong>Generate token</strong></li></ul></li><li><strong>复制 Token</strong><ul><li><strong>重要</strong>：Token 只显示一次，请立即复制保存</li></ul></li></ol><h3 id="配置-github-secrets">7.2 配置 GitHub Secrets</h3><ol type="1"><li><strong>进入源码仓库</strong><ul><li>进入你创建的源码仓库（如 <code>my-blog</code>）</li></ul></li><li><strong>添加 Secret</strong><ul><li>点击 <strong>Settings</strong> → <strong>Secrets andvariables</strong> → <strong>Actions</strong></li><li>点击 <strong>New repository secret</strong></li><li>创建以下 Secret：<ul><li><strong>Name:</strong> <code>PERSONAL_TOKEN</code></li><li><strong>Value:</strong> 粘贴刚才生成的 Personal Access Token</li><li>点击 “Add secret”</li></ul></li></ul></li></ol><h3 id="创建-github-actions-工作流">7.3 创建 GitHub Actions 工作流</h3><ol type="1"><li><strong>在项目根目录创建 <code>.github</code> 文件夹</strong></li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">mkdir</span> .github<br><span class="hljs-built_in">mkdir</span> .github\workflows<br></code></pre></td></tr></table></figure><ol start="2" type="1"><li><strong>创建工作流文件</strong></li></ol><p>在 <code>.github/workflows/</code> 目录下创建 <code>deploy.yml</code>文件：</p><p><strong>注意：</strong> 如果你的项目使用了<code>hexo-renderer-pandoc</code>（可以在 <code>package.json</code>中查看），则需要安装 Pandoc。如果使用的是默认的<code>hexo-renderer-marked</code>，则可以删除或注释掉 Pandoc安装步骤。</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><code class="hljs yaml"><span class="hljs-attr">name:</span> <span class="hljs-string">Deploy</span> <span class="hljs-string">to</span> <span class="hljs-string">GitHub</span> <span class="hljs-string">Pages</span><br><br><span class="hljs-attr">on:</span><br>  <span class="hljs-attr">push:</span><br>    <span class="hljs-attr">branches:</span><br>      <span class="hljs-bullet">-</span> <span class="hljs-string">main</span><br><br><span class="hljs-attr">jobs:</span><br>  <span class="hljs-attr">deploy:</span><br>    <span class="hljs-attr">runs-on:</span> <span class="hljs-string">ubuntu-latest</span><br>    <span class="hljs-attr">steps:</span><br>      <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">Checkout</span> <span class="hljs-string">repository</span><br>        <span class="hljs-attr">uses:</span> <span class="hljs-string">actions/checkout@v4</span><br><br>      <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">Set</span> <span class="hljs-string">up</span> <span class="hljs-string">Node.js</span><br>        <span class="hljs-attr">uses:</span> <span class="hljs-string">actions/setup-node@v4</span><br>        <span class="hljs-attr">with:</span><br>          <span class="hljs-attr">node-version:</span> <span class="hljs-string">&#x27;18&#x27;</span><br>          <span class="hljs-attr">cache:</span> <span class="hljs-string">&#x27;npm&#x27;</span><br><br>      <span class="hljs-comment"># ===== 以下 Pandoc 安装是可选的，只有在使用 hexo-renderer-pandoc 时才需要 =====</span><br>      <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">Install</span> <span class="hljs-string">Pandoc</span><br>        <span class="hljs-attr">run:</span> <span class="hljs-string">|</span><br><span class="hljs-string">          sudo apt-get update</span><br><span class="hljs-string">          sudo apt-get install -y pandoc</span><br><span class="hljs-string"></span>      <span class="hljs-comment"># ===== Pandoc 安装结束 =====</span><br><br>      <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">Install</span> <span class="hljs-string">dependencies</span><br>        <span class="hljs-attr">run:</span> <span class="hljs-string">npm</span> <span class="hljs-string">install</span><br><br>      <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">Build</span> <span class="hljs-string">site</span><br>        <span class="hljs-attr">run:</span> <span class="hljs-string">npx</span> <span class="hljs-string">hexo</span> <span class="hljs-string">generate</span><br><br>      <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">Deploy</span> <span class="hljs-string">to</span> <span class="hljs-string">GitHub</span> <span class="hljs-string">Pages</span><br>        <span class="hljs-attr">uses:</span> <span class="hljs-string">peaceiris/actions-gh-pages@v3</span><br>        <span class="hljs-attr">with:</span><br>          <span class="hljs-attr">personal_token:</span> <span class="hljs-string">$&#123;&#123;</span> <span class="hljs-string">secrets.PERSONAL_TOKEN</span> <span class="hljs-string">&#125;&#125;</span><br>          <span class="hljs-attr">external_repository:</span> <span class="hljs-string">your-username/your-username.github.io</span><br>          <span class="hljs-attr">publish_branch:</span> <span class="hljs-string">main</span><br>          <span class="hljs-attr">publish_dir:</span> <span class="hljs-string">./public</span><br>          <span class="hljs-attr">user_name:</span> <span class="hljs-string">&#x27;Your Name&#x27;</span><br>          <span class="hljs-attr">user_email:</span> <span class="hljs-string">&#x27;your-email@example.com&#x27;</span><br></code></pre></td></tr></table></figure><p><strong>重要：</strong> 将以下内容替换为你的实际信息： -<code>your-username</code>：你的 GitHub 用户名 -<code>Your Name</code>：你的名字 -<code>your-email@example.com</code>：你的邮箱</p><h3 id="更新-_config.yml-的-url">7.4 更新 _config.yml 的 URL</h3><p>编辑 <code>_config.yml</code>，更新 <code>url</code> 配置：</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs yaml"><span class="hljs-attr">url:</span> <span class="hljs-string">https://your-username.github.io</span><br></code></pre></td></tr></table></figure><p>将 <code>your-username</code> 替换为你的 GitHub 用户名。</p><hr /><h2 id="第八步推送代码并部署">第八步：推送代码并部署</h2><h3 id="初始化-git-仓库">8.1 初始化 Git 仓库</h3><p>在项目根目录执行：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># 初始化 Git 仓库</span><br>git init<br><br><span class="hljs-comment"># 添加所有文件</span><br>git add .<br><br><span class="hljs-comment"># 提交</span><br>git commit -m <span class="hljs-string">&quot;Initial commit&quot;</span><br></code></pre></td></tr></table></figure><h3 id="连接远程仓库">8.2 连接远程仓库</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># 添加远程仓库（将 your-username 替换为你的 GitHub 用户名，my-blog 替换为你的源码仓库名）</span><br>git remote add origin https://github.com/your-username/my-blog.git<br><br><span class="hljs-comment"># 推送到远程仓库</span><br>git branch -M main<br>git push -u origin main<br></code></pre></td></tr></table></figure><h3 id="查看部署状态">8.3 查看部署状态</h3><ol type="1"><li><strong>进入 GitHub 仓库页面</strong><ul><li>进入你的源码仓库</li><li>点击 <strong>Actions</strong> 标签</li><li>可以看到部署工作流正在运行</li></ul></li><li><strong>等待部署完成</strong><ul><li>工作流完成后，会显示绿色的 ✓</li><li>如果失败，点击查看日志排查问题</li></ul></li></ol><h3 id="访问你的博客">8.4 访问你的博客</h3><p>部署完成后，等待几分钟，然后访问：</p><figure class="highlight dts"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs dts"><span class="hljs-symbol">https:</span><span class="hljs-comment">//your-username.github.io</span><br></code></pre></td></tr></table></figure><p>你的博客就上线了！</p><hr /><h2 id="第九步创建第一篇文章">第九步：创建第一篇文章</h2><h3 id="创建新文章">9.1 创建新文章</h3><p>在本地项目目录执行：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">hexo new <span class="hljs-string">&quot;我的第一篇文章&quot;</span><br></code></pre></td></tr></table></figure><p>这会在 <code>source/_posts/</code> 目录下创建一个 Markdown 文件。</p><h3 id="编辑文章">9.2 编辑文章</h3><p>打开创建的文件，默认内容如下：</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs markdown">---<br>title: 我的第一篇文章<br>date: 2025-11-07 21:00:00<br><span class="hljs-section">tags:</span><br><span class="hljs-section">---</span><br><br><span class="hljs-section"># 我的第一篇文章</span><br><br>这里是文章内容，使用 Markdown 语法编写。<br></code></pre></td></tr></table></figure><h3 id="markdown-语法示例">9.3 Markdown 语法示例</h3><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs markdown"><span class="hljs-section"># 一级标题</span><br><span class="hljs-section">## 二级标题</span><br><br><span class="hljs-strong">**粗体文字**</span><br><span class="hljs-emphasis">*斜体文字*</span><br><br><span class="hljs-bullet">-</span> 列表项 1<br><span class="hljs-bullet">-</span> 列表项 2<br><br><span class="hljs-bullet">1.</span> 有序列表 1<br><span class="hljs-bullet">2.</span> 有序列表 2<br><br>[<span class="hljs-string">链接文字</span>](<span class="hljs-link">https://example.com</span>)<br><br>![<span class="hljs-string">图片描述</span>](<span class="hljs-link">图片地址</span>)<br><br><span class="hljs-code">```代码块</span><br><span class="hljs-code">function hello() &#123;</span><br><span class="hljs-code">  console.log(&quot;Hello, Hexo!&quot;);</span><br><span class="hljs-code">&#125;</span><br></code></pre></td></tr></table></figure><blockquote><p>引用文字 <figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs yaml"><br><span class="hljs-comment">### 9.4 文章 Front Matter</span><br><br><span class="hljs-string">每篇文章开头的</span> <span class="hljs-string">`---`</span> <span class="hljs-string">之间的内容称为</span> <span class="hljs-string">Front</span> <span class="hljs-string">Matter，用于配置文章属性：</span><br><br><span class="hljs-string">```markdown</span><br><span class="hljs-meta">---</span><br><span class="hljs-attr">title:</span> <span class="hljs-string">文章标题</span><br><span class="hljs-attr">date:</span> <span class="hljs-number">2025-11-07 21:00:00</span><br><span class="hljs-attr">tags:</span> [<span class="hljs-string">标签1</span>, <span class="hljs-string">标签2</span>]<br><span class="hljs-attr">categories:</span> [<span class="hljs-string">分类1</span>]<br><span class="hljs-meta">---</span><br></code></pre></td></tr></table></figure></p></blockquote><h3 id="本地预览-1">9.5 本地预览</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">hexo server<br></code></pre></td></tr></table></figure><p>在浏览器中查看文章效果。</p><h3 id="发布文章">9.6 发布文章</h3><p>编辑完文章后，推送到 GitHub：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># 添加文件</span><br>git add .<br><br><span class="hljs-comment"># 提交</span><br>git commit -m <span class="hljs-string">&quot;添加第一篇文章&quot;</span><br><br><span class="hljs-comment"># 推送</span><br>git push origin main<br></code></pre></td></tr></table></figure><p>推送后，GitHub Actions会自动编译并部署，几分钟后就可以在网站上看到新文章了！</p><hr /><h2 id="第十步后续使用流程">第十步：后续使用流程</h2><h3 id="日常写作流程">10.1 日常写作流程</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># 1. 创建新文章</span><br>hexo new <span class="hljs-string">&quot;文章标题&quot;</span><br><br><span class="hljs-comment"># 2. 编辑文章（使用你喜欢的编辑器）</span><br><span class="hljs-comment"># 编辑 source/_posts/文章标题.md</span><br><br><span class="hljs-comment"># 3. 本地预览（可选）</span><br>hexo server<br><br><span class="hljs-comment"># 4. 提交并推送</span><br>git add .<br>git commit -m <span class="hljs-string">&quot;添加新文章：文章标题&quot;</span><br>git push origin main<br><br><span class="hljs-comment"># 5. 等待 GitHub Actions 自动部署完成</span><br><span class="hljs-comment"># 在 GitHub 仓库的 Actions 标签查看部署状态</span><br></code></pre></td></tr></table></figure><h3 id="常用命令">10.2 常用命令</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># 创建新文章</span><br>hexo new <span class="hljs-string">&quot;文章标题&quot;</span><br><br><span class="hljs-comment"># 创建新页面</span><br>hexo new page <span class="hljs-string">&quot;about&quot;</span><br><br><span class="hljs-comment"># 清理缓存和生成的文件</span><br>hexo clean<br><br><span class="hljs-comment"># 生成静态文件（本地测试用）</span><br>hexo generate<br><br><span class="hljs-comment"># 启动本地服务器（本地预览用）</span><br>hexo server<br><br><span class="hljs-comment"># 组合命令：生成并启动服务器</span><br>hexo generate --server<br><span class="hljs-comment"># 或简写</span><br>hexo g -s<br></code></pre></td></tr></table></figure><p><strong>注意：</strong> 使用 GitHub Actions 部署时，不需要在本地执行<code>hexo generate</code> 和 <code>hexo deploy</code>，只需要 push代码即可。</p><h3 id="自定义域名可选">10.3 自定义域名（可选）</h3><p>如果你想使用自己的域名：</p><ol type="1"><li><p><strong>在项目 <code>source</code> 目录创建 <code>CNAME</code>文件</strong> <figure class="highlight arcade"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs arcade">your-<span class="hljs-built_in">domain</span>.com<br></code></pre></td></tr></table></figure></p></li><li><p><strong>在域名 DNS 设置中添加 CNAME 记录</strong></p><ul><li>类型：CNAME</li><li>主机记录：@ 或 www</li><li>记录值：your-username.github.io</li></ul></li><li><p><strong>在 GitHub Pages 仓库设置中配置</strong></p><ul><li>进入 Pages 仓库 → <strong>Settings</strong> →<strong>Pages</strong></li><li>在 <strong>Custom domain</strong> 中填入你的域名</li></ul></li></ol><hr /><h2 id="常见问题">🔧 常见问题</h2><h3 id="问题-1github-actions-部署失败提示-token-无效">问题 1：GitHubActions 部署失败，提示 Token 无效</h3><p><strong>解决方案：</strong> - 检查 Personal Access Token是否正确添加到 Secrets - 确认 Token 有 <code>repo</code> 权限 - 重新生成Token 并更新 Secret</p><h3 id="问题-2访问-github-pages-显示-404">问题 2：访问 GitHub Pages 显示404</h3><p><strong>解决方案：</strong> - 确认 Pages仓库名格式正确：<code>username.github.io</code> - 等待几分钟，GitHubPages 需要时间构建 - 检查 Pages 仓库 Settings → Pages，确认 Source分支设置正确 - 检查 GitHub Actions 是否部署成功</p><h3 id="问题-3本地预览正常部署后样式异常">问题3：本地预览正常，部署后样式异常</h3><p><strong>解决方案：</strong> - 检查 <code>_config.yml</code> 中的<code>url</code> 配置是否正确 - 确认使用的是 HTTPS 地址 -清理缓存后重新部署：<code>hexo clean</code>，然后 push</p><h3 id="问题-4github-actions-部署很慢">问题 4：GitHub Actions部署很慢</h3><p><strong>解决方案：</strong> - 这是正常现象，GitHub Actions需要时间编译和部署 - 通常需要 1-3 分钟 - 可以在 Actions页面查看实时日志</p><h3 id="问题-5修改主题配置后没有生效">问题5：修改主题配置后没有生效</h3><p><strong>解决方案：</strong> - 确认修改的是<code>_config.fluid.yml</code>（主题配置）或<code>_config.yml</code>（网站配置） - 推送代码后等待 GitHub Actions重新部署 - 清除浏览器缓存后刷新</p><hr /><h2 id="总结">📝 总结</h2><p>通过本教程，你已经完成了：</p><ol type="1"><li>✅ <strong>环境准备</strong> - 安装 Node.js 和 Git</li><li>✅ <strong>Hexo 安装</strong> - 全局安装 Hexo CLI</li><li>✅ <strong>项目初始化</strong> - 创建并初始化 Hexo 项目</li><li>✅ <strong>主题配置</strong> - 安装并配置 Fluid 主题</li><li>✅ <strong>创建仓库</strong> - 创建源码仓库和 Pages 仓库</li><li>✅ <strong>配置部署</strong> - 配置 GitHub Actions 自动部署</li><li>✅ <strong>发布文章</strong> - 创建第一篇文章并上线</li></ol><p>现在你已经拥有了一个属于自己的博客！只需要： - 本地写文章 -<code>git push</code> 推送代码 - GitHub Actions 自动编译和部署</p><p>开始记录你的学习和生活吧！</p><h2 id="参考资源">🔗 参考资源</h2><ul><li><a href="https://hexo.io/docs/">Hexo 官方文档</a></li><li><a href="https://hexo.fluid-dev.com/">Fluid 主题文档</a></li><li><a href="https://docs.github.com/en/actions">GitHub Actions文档</a></li><li><a href="https://www.markdownguide.org/">Markdown 语法指南</a></li><li><a href="https://docs.github.com/en/pages">GitHub Pages文档</a></li></ul>]]></content>
    
    
    <categories>
      
      <category>技术教程</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Yike</tag>
      
      <tag>Hexo</tag>
      
      <tag>博客</tag>
      
      <tag>GitHub Pages</tag>
      
      <tag>GitHub Actions</tag>
      
      <tag>教程</tag>
      
      <tag>入门</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Hexo 博客部署到云服务器完整指南</title>
    <link href="/2025/11/08/hexo-deploy-to-server/"/>
    <url>/2025/11/08/hexo-deploy-to-server/</url>
    
    <content type="html"><![CDATA[<h1 id="hexo-博客部署到云服务器完整指南">Hexo博客部署到云服务器完整指南</h1><h2 id="前言">📖 前言</h2><p>在使用 Hexo 搭建博客后，除了部署到 GitHubPages，我们还可以将博客部署到自己的云服务器上，这样可以获得更好的性能和自定义能力。本文将按照<strong>配置SSH 密钥 → 配置部署路径 → 配置 GitHub Actions → 配置 Nginx</strong>的顺序，详细介绍如何通过 GitHub Actions 自动将 Hexo博客部署到云服务器。</p><h2 id="部署方案">🎯 部署方案</h2><p>本文采用以下部署方案： - <strong>本地</strong>：只推送到 GitHub 仓库- <strong>GitHub Actions</strong>：自动构建并部署到云服务器 -<strong>GitHub Pages</strong>：可选，如果需要也可以同时部署到 GitHubPages - <strong>优势</strong>：无需在本地安装 rsync，Windows系统也能轻松使用</p><hr /><h2 id="第一步配置-ssh-密钥">第一步：配置 SSH 密钥</h2><p>SSH 密钥用于 GitHub Actions安全地连接服务器。我们在本地生成密钥对，然后将公钥添加到服务器，私钥添加到GitHub Secrets。</p><h3 id="在服务器上创建-www-data-用户">1.1 在服务器上创建 www-data用户</h3><p>为了安全起见，我们使用专门的 <code>www-data</code> 用户来部署，而不是root 用户。</p><p><strong>在服务器上执行：</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># 检查用户是否存在</span><br><span class="hljs-built_in">id</span> www-data<br><br><span class="hljs-comment"># 如果不存在，创建用户（不指定家目录，使用系统默认）</span><br><span class="hljs-built_in">sudo</span> useradd -r -s /bin/bash www-data<br><br><span class="hljs-comment"># 或者如果需要指定家目录</span><br><span class="hljs-built_in">sudo</span> useradd -r -s /bin/bash -d /var/www -m www-data<br></code></pre></td></tr></table></figure><p><strong>参数说明：</strong> - <code>-r</code>: 创建系统用户 -<code>-s /bin/bash</code>: 设置登录 shell - <code>-d /var/www</code>:设置家目录（可选，www-data 通常使用 /var/www）</p><h3 id="在本地生成-ssh-密钥对">1.2 在本地生成 SSH 密钥对</h3><p><strong>在本地 Windows 电脑上执行：</strong></p><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs powershell"><span class="hljs-comment"># 创建 .ssh 目录（如果不存在）</span><br>mkdir <span class="hljs-literal">-p</span> <span class="hljs-variable">$env:USERPROFILE</span>\.ssh<br><br><span class="hljs-comment"># 生成密钥对（专门用于服务器部署）</span><br>ssh<span class="hljs-literal">-keygen</span> <span class="hljs-literal">-t</span> rsa <span class="hljs-literal">-b</span> <span class="hljs-number">4096</span> <span class="hljs-literal">-C</span> <span class="hljs-string">&quot;server-deploy&quot;</span> <span class="hljs-operator">-f</span> <span class="hljs-variable">$env:USERPROFILE</span>\.ssh\id_rsa_server<br><br><span class="hljs-comment"># 提示输入密码时，直接按回车（留空），这样 GitHub Actions 可以自动使用</span><br></code></pre></td></tr></table></figure><p><strong>生成的文件：</strong> -<code>C:\Users\你的用户名\.ssh\id_rsa_server</code> -私钥（保密，不要分享） -<code>C:\Users\你的用户名\.ssh\id_rsa_server.pub</code> -公钥（可以添加到服务器）</p><h3 id="将公钥添加到服务器">1.3 将公钥添加到服务器</h3><p><strong>步骤 1：查看公钥内容</strong></p><p><strong>在本地执行：</strong></p><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs powershell"><span class="hljs-comment"># 查看公钥内容</span><br><span class="hljs-built_in">Get-Content</span> <span class="hljs-variable">$env:USERPROFILE</span>\.ssh\id_rsa_server.pub<br></code></pre></td></tr></table></figure><p><strong>复制输出的全部内容</strong>（应该是一行，以<code>ssh-rsa</code> 开头）</p><p><strong>步骤 2：在服务器上添加公钥</strong></p><p><strong>在服务器上执行：</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># 切换到 www-data 用户</span><br><span class="hljs-built_in">sudo</span> su - www-data<br><br><span class="hljs-comment"># 创建 .ssh 目录</span><br><span class="hljs-built_in">mkdir</span> -p ~/.ssh<br><span class="hljs-built_in">chmod</span> 700 ~/.ssh<br><br><span class="hljs-comment"># 将公钥添加到 authorized_keys（将下面的内容替换为你复制的公钥）</span><br><span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;你刚才复制的公钥内容&quot;</span> &gt;&gt; ~/.ssh/authorized_keys<br><br><span class="hljs-comment"># 设置 authorized_keys 的权限</span><br><span class="hljs-built_in">chmod</span> 600 ~/.ssh/authorized_keys<br><br><span class="hljs-comment"># 退出 www-data 用户</span><br><span class="hljs-built_in">exit</span><br></code></pre></td></tr></table></figure><p><strong>注意：</strong> 将 <code>"你刚才复制的公钥内容"</code>替换为步骤 1 中复制的完整公钥内容。</p><h3 id="将私钥添加到-github-secrets">1.4 将私钥添加到 GitHubSecrets</h3><p><strong>在本地查看私钥内容：</strong></p><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs powershell"><span class="hljs-comment"># 查看私钥内容</span><br><span class="hljs-built_in">Get-Content</span> <span class="hljs-variable">$env:USERPROFILE</span>\.ssh\id_rsa_server<br></code></pre></td></tr></table></figure><p><strong>复制完整内容</strong>（包括<code>-----BEGIN OPENSSH PRIVATE KEY-----</code> 和<code>-----END OPENSSH PRIVATE KEY-----</code>）</p><p><strong>添加到 GitHub Secrets：</strong></p><ol type="1"><li>进入 GitHub 仓库 → <strong>Settings</strong> → <strong>Secrets andvariables</strong> → <strong>Actions</strong></li><li>点击 <strong>New repository secret</strong></li><li>创建以下 <strong>必需的 Secrets</strong>（部署到服务器）：<ul><li><strong>Name:</strong><code>SERVER_HOST</code>，<strong>Value:</strong> 服务器地址（如<code>example.com</code> 或 <code>192.168.1.100</code>）</li><li><strong>Name:</strong><code>SERVER_USER</code>，<strong>Value:</strong><code>www-data</code></li><li><strong>Name:</strong><code>SERVER_DEPLOY_PATH</code>，<strong>Value:</strong> 部署路径（如<code>/var/www/html</code>）</li><li><strong>Name:</strong><code>SERVER_PORT</code>，<strong>Value:</strong> SSH 端口号（默认<code>22</code>，如使用其他端口填写对应数字）</li><li><strong>Name:</strong><code>SERVER_SSH_KEY</code>，<strong>Value:</strong>粘贴刚才复制的私钥内容（完整内容，包括 BEGIN 和 END 行）</li></ul></li><li><strong>可选的 Secret</strong>（如果需要部署到 GitHub Pages）：<ul><li><strong>Name:</strong><code>PERSONAL_TOKEN</code>，<strong>Value:</strong> GitHub PersonalAccess Token（用于部署到 GitHub Pages）</li></ul></li></ol><hr /><h2 id="第二步配置部署路径">第二步：配置部署路径</h2><p>在服务器上创建部署目录，并设置正确的权限。</p><h3 id="在服务器上创建部署目录">2.1 在服务器上创建部署目录</h3><p><strong>在服务器上执行：</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># 创建网站根目录</span><br><span class="hljs-built_in">sudo</span> <span class="hljs-built_in">mkdir</span> -p /var/www/html<br><br><span class="hljs-comment"># 设置目录所有者为 www-data</span><br><span class="hljs-built_in">sudo</span> <span class="hljs-built_in">chown</span> -R www-data:www-data /var/www/html<br><br><span class="hljs-comment"># 设置目录权限</span><br><span class="hljs-built_in">sudo</span> <span class="hljs-built_in">chmod</span> 755 /var/www/html<br></code></pre></td></tr></table></figure><hr /><h2 id="第三步配置-github-actions">第三步：配置 GitHub Actions</h2><p>配置 GitHub Actions 工作流，实现自动部署。</p><p><strong>重要说明：</strong> -如果<strong>只需要部署到服务器</strong>，可以删除或注释掉 GitHub Pages部署步骤 - 如果<strong>需要同时部署到 GitHub Pages和服务器</strong>，保留所有步骤并配置相应的 Secrets</p><h3 id="创建或更新-github-actions-工作流">3.1 创建或更新 GitHub Actions工作流</h3><p>在项目根目录创建 <code>.github/workflows/deploy.yml</code>文件（如果不存在）：</p><p><strong>注意：</strong> 如果你的项目使用了<code>hexo-renderer-pandoc</code>（可以在 <code>package.json</code>中查看），则需要安装 Pandoc。如果使用的是默认的<code>hexo-renderer-marked</code>，则可以删除或注释掉 Pandoc安装步骤。</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br></pre></td><td class="code"><pre><code class="hljs yaml"><span class="hljs-attr">name:</span> <span class="hljs-string">Deploy</span> <span class="hljs-string">to</span> <span class="hljs-string">GitHub</span> <span class="hljs-string">Pages</span> <span class="hljs-string">and</span> <span class="hljs-string">Server</span><br><br><span class="hljs-attr">on:</span><br>  <span class="hljs-attr">push:</span><br>    <span class="hljs-attr">branches:</span><br>      <span class="hljs-bullet">-</span> <span class="hljs-string">main</span><br><br><span class="hljs-attr">jobs:</span><br>  <span class="hljs-attr">deploy:</span><br>    <span class="hljs-attr">runs-on:</span> <span class="hljs-string">ubuntu-latest</span><br>    <span class="hljs-attr">steps:</span><br>      <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">Checkout</span> <span class="hljs-string">repository</span><br>        <span class="hljs-attr">uses:</span> <span class="hljs-string">actions/checkout@v4</span><br><br>      <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">Set</span> <span class="hljs-string">up</span> <span class="hljs-string">Node.js</span><br>        <span class="hljs-attr">uses:</span> <span class="hljs-string">actions/setup-node@v4</span><br>        <span class="hljs-attr">with:</span><br>          <span class="hljs-attr">node-version:</span> <span class="hljs-string">&#x27;18&#x27;</span><br>          <span class="hljs-attr">cache:</span> <span class="hljs-string">&#x27;npm&#x27;</span><br><br>      <span class="hljs-comment"># ===== 以下 Pandoc 安装是可选的，只有在使用 hexo-renderer-pandoc 时才需要 =====</span><br>      <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">Install</span> <span class="hljs-string">Pandoc</span><br>        <span class="hljs-attr">run:</span> <span class="hljs-string">|</span><br><span class="hljs-string">          sudo apt-get update</span><br><span class="hljs-string">          sudo apt-get install -y pandoc</span><br><span class="hljs-string"></span>      <span class="hljs-comment"># ===== Pandoc 安装结束 =====</span><br><br>      <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">Install</span> <span class="hljs-string">dependencies</span><br>        <span class="hljs-attr">run:</span> <span class="hljs-string">npm</span> <span class="hljs-string">install</span><br><br>      <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">Build</span> <span class="hljs-string">site</span><br>        <span class="hljs-attr">run:</span> <span class="hljs-string">npx</span> <span class="hljs-string">hexo</span> <span class="hljs-string">generate</span><br><br>      <span class="hljs-comment"># ===== 以下 GitHub Pages 部署步骤是可选的，如果不需要部署到 GitHub Pages，可以删除或注释掉 =====</span><br>      <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">Deploy</span> <span class="hljs-string">to</span> <span class="hljs-string">GitHub</span> <span class="hljs-string">Pages</span><br>        <span class="hljs-attr">uses:</span> <span class="hljs-string">peaceiris/actions-gh-pages@v3</span><br>        <span class="hljs-attr">with:</span><br>          <span class="hljs-attr">personal_token:</span> <span class="hljs-string">$&#123;&#123;</span> <span class="hljs-string">secrets.PERSONAL_TOKEN</span> <span class="hljs-string">&#125;&#125;</span>  <span class="hljs-comment"># 需要配置 PERSONAL_TOKEN secret</span><br>          <span class="hljs-attr">external_repository:</span> <span class="hljs-string">your-username/your-username.github.io</span>  <span class="hljs-comment"># 你的 GitHub Pages 仓库</span><br>          <span class="hljs-attr">publish_branch:</span> <span class="hljs-string">main</span><br>          <span class="hljs-attr">publish_dir:</span> <span class="hljs-string">./public</span><br>          <span class="hljs-attr">user_name:</span> <span class="hljs-string">&#x27;Your Name&#x27;</span><br>          <span class="hljs-attr">user_email:</span> <span class="hljs-string">&#x27;your-email@example.com&#x27;</span><br>      <span class="hljs-comment"># ===== GitHub Pages 部署配置结束 =====</span><br><br>      <span class="hljs-comment"># ===== 以下 rsync 安装是部署到服务器必需的 =====</span><br>      <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">Install</span> <span class="hljs-string">rsync</span><br>        <span class="hljs-attr">run:</span> <span class="hljs-string">|</span><br><span class="hljs-string">          sudo apt-get update</span><br><span class="hljs-string">          sudo apt-get install -y rsync openssh-client</span><br><span class="hljs-string"></span>      <span class="hljs-comment"># ===== rsync 安装结束 =====</span><br><br>      <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">Deploy</span> <span class="hljs-string">to</span> <span class="hljs-string">Custom</span> <span class="hljs-string">Server</span><br>        <span class="hljs-attr">uses:</span> <span class="hljs-string">burnett01/rsync-deployments@7.0.1</span><br>        <span class="hljs-attr">with:</span><br>          <span class="hljs-attr">switches:</span> <span class="hljs-string">-avzr</span> <span class="hljs-string">--delete</span><br>          <span class="hljs-attr">path:</span> <span class="hljs-string">./public/</span><br>          <span class="hljs-attr">remote_path:</span> <span class="hljs-string">$&#123;&#123;</span> <span class="hljs-string">secrets.SERVER_DEPLOY_PATH</span> <span class="hljs-string">&#125;&#125;</span><br>          <span class="hljs-attr">remote_host:</span> <span class="hljs-string">$&#123;&#123;</span> <span class="hljs-string">secrets.SERVER_HOST</span> <span class="hljs-string">&#125;&#125;</span><br>          <span class="hljs-attr">remote_user:</span> <span class="hljs-string">$&#123;&#123;</span> <span class="hljs-string">secrets.SERVER_USER</span> <span class="hljs-string">&#125;&#125;</span><br>          <span class="hljs-attr">remote_key:</span> <span class="hljs-string">$&#123;&#123;</span> <span class="hljs-string">secrets.SERVER_SSH_KEY</span> <span class="hljs-string">&#125;&#125;</span><br>          <span class="hljs-attr">remote_port:</span> <span class="hljs-string">$&#123;&#123;</span> <span class="hljs-string">secrets.SERVER_PORT</span> <span class="hljs-string">&#125;&#125;</span>  <span class="hljs-comment"># SSH 端口，从 Secrets 中读取</span><br></code></pre></td></tr></table></figure><h3 id="只部署到服务器不部署到-github-pages">3.2只部署到服务器（不部署到 GitHub Pages）</h3><p>如果只需要部署到服务器，可以删除 GitHub Pages部署步骤，工作流如下：</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><code class="hljs yaml"><span class="hljs-attr">name:</span> <span class="hljs-string">Deploy</span> <span class="hljs-string">to</span> <span class="hljs-string">Server</span><br><br><span class="hljs-attr">on:</span><br>  <span class="hljs-attr">push:</span><br>    <span class="hljs-attr">branches:</span><br>      <span class="hljs-bullet">-</span> <span class="hljs-string">main</span><br><br><span class="hljs-attr">jobs:</span><br>  <span class="hljs-attr">deploy:</span><br>    <span class="hljs-attr">runs-on:</span> <span class="hljs-string">ubuntu-latest</span><br>    <span class="hljs-attr">steps:</span><br>      <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">Checkout</span> <span class="hljs-string">repository</span><br>        <span class="hljs-attr">uses:</span> <span class="hljs-string">actions/checkout@v4</span><br><br>      <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">Set</span> <span class="hljs-string">up</span> <span class="hljs-string">Node.js</span><br>        <span class="hljs-attr">uses:</span> <span class="hljs-string">actions/setup-node@v4</span><br>        <span class="hljs-attr">with:</span><br>          <span class="hljs-attr">node-version:</span> <span class="hljs-string">&#x27;18&#x27;</span><br>          <span class="hljs-attr">cache:</span> <span class="hljs-string">&#x27;npm&#x27;</span><br><br>      <span class="hljs-comment"># ===== 以下 Pandoc 安装是可选的，只有在使用 hexo-renderer-pandoc 时才需要 =====</span><br>      <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">Install</span> <span class="hljs-string">Pandoc</span><br>        <span class="hljs-attr">run:</span> <span class="hljs-string">|</span><br><span class="hljs-string">          sudo apt-get update</span><br><span class="hljs-string">          sudo apt-get install -y pandoc</span><br><span class="hljs-string"></span>      <span class="hljs-comment"># ===== Pandoc 安装结束 =====</span><br><br>      <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">Install</span> <span class="hljs-string">dependencies</span><br>        <span class="hljs-attr">run:</span> <span class="hljs-string">npm</span> <span class="hljs-string">install</span><br><br>      <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">Build</span> <span class="hljs-string">site</span><br>        <span class="hljs-attr">run:</span> <span class="hljs-string">npx</span> <span class="hljs-string">hexo</span> <span class="hljs-string">generate</span><br><br>      <span class="hljs-comment"># ===== 以下 rsync 安装是部署到服务器必需的 =====</span><br>      <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">Install</span> <span class="hljs-string">rsync</span><br>        <span class="hljs-attr">run:</span> <span class="hljs-string">|</span><br><span class="hljs-string">          sudo apt-get update</span><br><span class="hljs-string">          sudo apt-get install -y rsync openssh-client</span><br><span class="hljs-string"></span>      <span class="hljs-comment"># ===== rsync 安装结束 =====</span><br><br>      <span class="hljs-comment"># 只部署到服务器，不部署到 GitHub Pages</span><br>      <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">Deploy</span> <span class="hljs-string">to</span> <span class="hljs-string">Custom</span> <span class="hljs-string">Server</span><br>        <span class="hljs-attr">uses:</span> <span class="hljs-string">burnett01/rsync-deployments@7.0.1</span><br>        <span class="hljs-attr">with:</span><br>          <span class="hljs-attr">switches:</span> <span class="hljs-string">-avzr</span> <span class="hljs-string">--delete</span><br>          <span class="hljs-attr">path:</span> <span class="hljs-string">./public/</span><br>          <span class="hljs-attr">remote_path:</span> <span class="hljs-string">$&#123;&#123;</span> <span class="hljs-string">secrets.SERVER_DEPLOY_PATH</span> <span class="hljs-string">&#125;&#125;</span><br>          <span class="hljs-attr">remote_host:</span> <span class="hljs-string">$&#123;&#123;</span> <span class="hljs-string">secrets.SERVER_HOST</span> <span class="hljs-string">&#125;&#125;</span><br>          <span class="hljs-attr">remote_user:</span> <span class="hljs-string">$&#123;&#123;</span> <span class="hljs-string">secrets.SERVER_USER</span> <span class="hljs-string">&#125;&#125;</span><br>          <span class="hljs-attr">remote_key:</span> <span class="hljs-string">$&#123;&#123;</span> <span class="hljs-string">secrets.SERVER_SSH_KEY</span> <span class="hljs-string">&#125;&#125;</span><br>          <span class="hljs-attr">remote_port:</span> <span class="hljs-string">$&#123;&#123;</span> <span class="hljs-string">secrets.SERVER_PORT</span> <span class="hljs-string">&#125;&#125;</span>  <span class="hljs-comment"># SSH 端口，从 Secrets 中读取</span><br></code></pre></td></tr></table></figure><h3 id="配置本地-_config.yml可选">3.3 配置本地 _config.yml（可选）</h3><p><strong>如果你需要本地也能部署到 GitHub Pages，编辑项目根目录的<code>_config.yml</code> 文件：</strong></p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs yaml"><span class="hljs-comment"># Deployment</span><br><span class="hljs-attr">deploy:</span><br>  <span class="hljs-bullet">-</span> <span class="hljs-attr">type:</span> <span class="hljs-string">git</span><br>    <span class="hljs-attr">repo:</span> <span class="hljs-string">https://github.com/your-username/your-username.github.io.git</span><br>    <span class="hljs-attr">branch:</span> <span class="hljs-string">main</span><br></code></pre></td></tr></table></figure><p><strong>注意：</strong> -这个配置是<strong>可选的</strong>，如果只需要通过 GitHub Actions自动部署，可以不配置 - 如果配置了，本地运行 <code>hexo deploy</code>会推送到 GitHub 仓库 - 服务器部署由 GitHub Actions自动完成，不需要在本地配置</p><hr /><h2 id="第四步配置-nginx">第四步：配置 Nginx</h2><p>配置 Nginx 让网站可以通过浏览器访问。</p><h3 id="在服务器上安装-nginx">4.1 在服务器上安装 Nginx</h3><p><strong>在服务器上执行：</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># Ubuntu/Debian</span><br><span class="hljs-built_in">sudo</span> apt update<br><span class="hljs-built_in">sudo</span> apt install nginx -y<br><br><span class="hljs-comment"># CentOS/RHEL</span><br><span class="hljs-built_in">sudo</span> yum install nginx -y<br><br><span class="hljs-comment"># 启动 Nginx</span><br><span class="hljs-built_in">sudo</span> systemctl start nginx<br><span class="hljs-built_in">sudo</span> systemctl <span class="hljs-built_in">enable</span> nginx<br></code></pre></td></tr></table></figure><h3 id="在服务器上创建-nginx-配置文件">4.2 在服务器上创建 Nginx配置文件</h3><p><strong>Ubuntu/Debian 系统：</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">sudo</span> nano /etc/nginx/sites-available/your-site<br></code></pre></td></tr></table></figure><p><strong>CentOS/RHEL 系统：</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">sudo</span> nano /etc/nginx/conf.d/your-site.conf<br></code></pre></td></tr></table></figure><p><strong>配置文件内容：</strong></p><figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><code class="hljs nginx"><span class="hljs-section">server</span> &#123;<br>    <span class="hljs-attribute">listen</span> <span class="hljs-number">80</span>;<br>    <span class="hljs-attribute">server_name</span> your-domain.com www.your-domain.com;  <span class="hljs-comment"># 你的域名</span><br>    <span class="hljs-attribute">root</span> /var/www/html;                               <span class="hljs-comment"># 网站根目录（与部署路径一致）</span><br>    <span class="hljs-attribute">index</span> index.html index.htm;<br><br>    <span class="hljs-comment"># 日志配置</span><br>    <span class="hljs-attribute">access_log</span> /var/log/nginx/your-site-access.log;<br>    <span class="hljs-attribute">error_log</span> /var/log/nginx/your-site-<span class="hljs-literal">error</span>.log;<br><br>    <span class="hljs-comment"># 主配置</span><br>    <span class="hljs-section">location</span> / &#123;<br>        <span class="hljs-attribute">try_files</span> <span class="hljs-variable">$uri</span> <span class="hljs-variable">$uri</span>/ =<span class="hljs-number">404</span>;<br>    &#125;<br><br>    <span class="hljs-comment"># 静态资源缓存</span><br>    <span class="hljs-section">location</span> <span class="hljs-regexp">~* \.(jpg|jpeg|png|gif|ico|css|js|svg|woff|woff2|ttf|eot)$</span> &#123;<br>        <span class="hljs-attribute">expires</span> <span class="hljs-number">30d</span>;<br>        <span class="hljs-attribute">add_header</span> Cache-Control <span class="hljs-string">&quot;public, immutable&quot;</span>;<br>    &#125;<br><br>    <span class="hljs-comment"># 禁止访问隐藏文件</span><br>    <span class="hljs-section">location</span> <span class="hljs-regexp">~ /\.</span> &#123;<br>        <span class="hljs-attribute">deny</span> all;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h3 id="在服务器上启用网站配置">4.3 在服务器上启用网站配置</h3><p><strong>Ubuntu/Debian：</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># 创建符号链接</span><br><span class="hljs-built_in">sudo</span> <span class="hljs-built_in">ln</span> -s /etc/nginx/sites-available/your-site /etc/nginx/sites-enabled/<br><br><span class="hljs-comment"># 测试配置</span><br><span class="hljs-built_in">sudo</span> nginx -t<br><br><span class="hljs-comment"># 重启 Nginx</span><br><span class="hljs-built_in">sudo</span> systemctl restart nginx<br></code></pre></td></tr></table></figure><p><strong>CentOS/RHEL：</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># 测试配置</span><br><span class="hljs-built_in">sudo</span> nginx -t<br><br><span class="hljs-comment"># 重启 Nginx</span><br><span class="hljs-built_in">sudo</span> systemctl restart nginx<br></code></pre></td></tr></table></figure><h3 id="配置-https可选但推荐">4.4 配置 HTTPS（可选但推荐）</h3><p><strong>在服务器上执行：</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># 安装 Certbot</span><br><span class="hljs-built_in">sudo</span> apt install certbot python3-certbot-nginx -y<br><br><span class="hljs-comment"># 获取证书</span><br><span class="hljs-built_in">sudo</span> certbot --nginx -d your-domain.com -d www.your-domain.com<br><br><span class="hljs-comment"># 测试自动续期</span><br><span class="hljs-built_in">sudo</span> certbot renew --dry-run<br></code></pre></td></tr></table></figure><hr /><h2 id="使用方式">🚀 使用方式</h2><h3 id="本地部署流程">本地部署流程</h3><p>配置完成后，在本地执行：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># 构建网站（可选，GitHub Actions 会自动构建）</span><br>npm run build<br><br><span class="hljs-comment"># 推送到 GitHub（只推送到 GitHub，不直接部署到服务器）</span><br>hexo deploy<br><br><span class="hljs-comment"># 或者直接 push 代码</span><br>git add .<br>git commit -m <span class="hljs-string">&quot;更新内容&quot;</span><br>git push origin main<br></code></pre></td></tr></table></figure><h3 id="自动部署流程">自动部署流程</h3><ol type="1"><li><strong>本地推送代码到 GitHub</strong></li><li><strong>GitHub Actions 自动触发</strong>：<ul><li>检出代码</li><li>安装依赖</li><li>构建网站</li><li>部署到 GitHub Pages</li><li>部署到你的服务器</li></ul></li></ol><h3 id="查看部署状态">查看部署状态</h3><p>在 GitHub 仓库页面，点击 <strong>Actions</strong>标签，可以查看部署进度和日志。</p><hr /><h2 id="常见问题">🔧 常见问题</h2><h3 id="问题-1github-actions-部署失败提示-ssh-连接被拒绝">问题 1：GitHubActions 部署失败，提示 SSH 连接被拒绝</h3><p><strong>解决方案：</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># 在服务器上检查用户是否存在</span><br><span class="hljs-built_in">id</span> www-data<br><br><span class="hljs-comment"># 检查家目录权限</span><br><span class="hljs-built_in">ls</span> -la /home/www-data<br><span class="hljs-comment"># 或</span><br><span class="hljs-built_in">ls</span> -la /var/www<br><br><span class="hljs-comment"># 检查 SSH 配置</span><br><span class="hljs-built_in">sudo</span> <span class="hljs-built_in">cat</span> /etc/ssh/sshd_config | grep AllowUsers<br></code></pre></td></tr></table></figure><h3 id="问题-2github-actions-部署失败提示权限不足">问题 2：GitHubActions 部署失败，提示权限不足</h3><p><strong>解决方案：</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># 在服务器上检查目录所有者</span><br><span class="hljs-built_in">ls</span> -la /var/www/html<br><br><span class="hljs-comment"># 修改所有者</span><br><span class="hljs-built_in">sudo</span> <span class="hljs-built_in">chown</span> -R www-data:www-data /var/www/html<br><br><span class="hljs-comment"># 检查权限</span><br><span class="hljs-built_in">sudo</span> <span class="hljs-built_in">chmod</span> 755 /var/www/html<br></code></pre></td></tr></table></figure><h3 id="问题-3nginx-无法访问文件">问题 3：Nginx 无法访问文件</h3><p><strong>解决方案：</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># 在服务器上检查 Nginx 用户</span><br>ps aux | grep nginx<br><br><span class="hljs-comment"># 确保 Nginx 用户（通常是 www-data）有读取权限</span><br><span class="hljs-built_in">sudo</span> <span class="hljs-built_in">chmod</span> -R 755 /var/www/html<br><span class="hljs-built_in">sudo</span> <span class="hljs-built_in">chown</span> -R www-data:www-data /var/www/html<br></code></pre></td></tr></table></figure><h3 id="问题-4github-actions-中端口配置错误">问题 4：GitHub Actions中端口配置错误</h3><p><strong>检查：</strong> - 确认 <code>switches</code>中的端口号与服务器 SSH 端口一致 -格式：<code>switches: -avzr --delete -e "ssh -p 端口号"</code></p><h3 id="问题-5本地-hexo-deploy-失败">问题 5：本地 hexo deploy 失败</h3><p><strong>原因：</strong> 本地只需要推送到GitHub，不需要配置服务器部署。</p><p><strong>解决方案：</strong> 确保 <code>_config.yml</code> 中只配置了git 部署，不要配置 rsync。</p><hr /><h2 id="总结">📝 总结</h2><p>通过以上四个步骤，我们完成了：</p><ol type="1"><li>✅ <strong>配置 SSH 密钥</strong> -在本地生成密钥，公钥添加到服务器，私钥添加到 GitHub Secrets</li><li>✅ <strong>配置部署路径</strong> - 在服务器上创建目录并设置权限</li><li>✅ <strong>配置 GitHub Actions</strong> - 实现自动构建和部署</li><li>✅ <strong>配置 Nginx</strong> - 让网站可以通过浏览器访问</li></ol><p>现在你的 Hexo 博客可以： - 本地只需 <code>hexo deploy</code> 推送到GitHub - GitHub Actions 自动部署到 GitHub Pages 和服务器 - Windows系统无需安装 rsync，使用更方便</p><p>如果遇到问题，欢迎在评论区留言讨论。</p><h2 id="参考资源">🔗 参考资源</h2><ul><li><a href="https://hexo.io/docs/">Hexo 官方文档</a></li><li><a href="https://docs.github.com/en/actions">GitHub Actions文档</a></li><li><ahref="https://github.com/burnett01/rsync-deployments">burnett01/rsync-deployments</a></li><li><a href="https://nginx.org/en/docs/">Nginx 官方文档</a></li></ul>]]></content>
    
    
    <categories>
      
      <category>技术教程</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Yike</tag>
      
      <tag>Hexo</tag>
      
      <tag>GitHub Actions</tag>
      
      <tag>部署</tag>
      
      <tag>服务器</tag>
      
      <tag>Nginx</tag>
      
      <tag>SSH</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>图片显示测试</title>
    <link href="/2025/11/07/image-test/"/>
    <url>/2025/11/07/image-test/</url>
    
    <content type="html"><![CDATA[<h2 id="图片显示测试">图片显示测试</h2><p>本文档用于测试 Hexo Fluid主题的图片显示功能，包括不同尺寸、格式、对齐方式和说明文字等。</p><h3 id="基本图片显示">1. 基本图片显示</h3><h4 id="本地图片">1.1 本地图片</h4><p>使用本地图片资源：</p><figure><img src="/img/banner.png" alt="Banner 图片" /><figcaption aria-hidden="true">Banner 图片</figcaption></figure><h4 id="网络图片占位图">1.2 网络图片（占位图）</h4><p>使用占位图片服务测试：</p><figure><img src="https://picsum.photos/800/600" alt="占位图片 800x600" /><figcaption aria-hidden="true">占位图片 800x600</figcaption></figure><h3 id="不同尺寸的图片">2. 不同尺寸的图片</h3><h4 id="小尺寸图片">2.1 小尺寸图片</h4><figure><img src="https://picsum.photos/200/150" alt="小图片 200x150" /><figcaption aria-hidden="true">小图片 200x150</figcaption></figure><h4 id="中等尺寸图片">2.2 中等尺寸图片</h4><figure><img src="https://picsum.photos/600/400" alt="中等图片 600x400" /><figcaption aria-hidden="true">中等图片 600x400</figcaption></figure><h4 id="大尺寸图片">2.3 大尺寸图片</h4><figure><img src="https://picsum.photos/1200/800" alt="大图片 1200x800" /><figcaption aria-hidden="true">大图片 1200x800</figcaption></figure><h3 id="图片链接">3. 图片链接</h3><h4 id="带链接的图片">3.1 带链接的图片</h4><p>点击图片可以跳转：</p><p><a href="https://picsum.photos/400/300"><imgsrc="https://picsum.photos/400/300" alt="可点击的图片" /></a></p><h4 id="图片链接到外部网站">3.2 图片链接到外部网站</h4><p><a href="https://github.com"><img src="https://picsum.photos/300/200"alt="GitHub Logo" /></a></p><h3 id="图片说明文字caption">4. 图片说明文字（Caption）</h3><p>使用 HTML 的 <code>figure</code> 标签添加说明：</p><figure><img src="https://picsum.photos/600/400" alt="示例图片"><figcaption>这是一张示例图片，带有说明文字</figcaption></figure><h3 id="图片对齐">5. 图片对齐</h3><h4 id="左对齐">5.1 左对齐</h4><div data-align="left"><p><img src="https://picsum.photos/300/200" alt="左对齐图片"></p></div><h4 id="居中">5.2 居中</h4><div data-align="center"><p><img src="https://picsum.photos/300/200" alt="居中图片"></p></div><h4 id="右对齐">5.3 右对齐</h4><div data-align="right"><p><img src="https://picsum.photos/300/200" alt="右对齐图片"></p></div><h3 id="多张图片并排显示">6. 多张图片并排显示</h3><h4 id="两张图片">6.1 两张图片</h4><div style="display: flex; gap: 10px; justify-content: center;"><p><img src="https://picsum.photos/300/200?random=1" alt="图片1" style="flex: 1; max-width: 300px;"><img src="https://picsum.photos/300/200?random=2" alt="图片2" style="flex: 1; max-width: 300px;"></p></div><h4 id="三张图片">6.2 三张图片</h4><divstyle="display: flex; gap: 10px; justify-content: center; flex-wrap: wrap;"><p><img src="https://picsum.photos/250/180?random=3" alt="图片1" style="flex: 1; min-width: 200px; max-width: 250px;"><img src="https://picsum.photos/250/180?random=4" alt="图片2" style="flex: 1; min-width: 200px; max-width: 250px;"><img src="https://picsum.photos/250/180?random=5" alt="图片3" style="flex: 1; min-width: 200px; max-width: 250px;"></p></div><h3 id="图片网格布局">7. 图片网格布局</h3><divstyle="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 10px;"><p><img src="https://picsum.photos/200/200?random=6" alt="网格图片1"><img src="https://picsum.photos/200/200?random=7" alt="网格图片2"><img src="https://picsum.photos/200/200?random=8" alt="网格图片3"><img src="https://picsum.photos/200/200?random=9" alt="网格图片4"></p></div><h3 id="图片与文字混排">8. 图片与文字混排</h3><p>这是一段文字，后面跟着一张图片：</p><figure><img src="https://picsum.photos/400/300" alt="混排图片" /><figcaption aria-hidden="true">混排图片</figcaption></figure><p>图片后面继续文字内容。这样可以测试图片在文章中的显示效果。</p><h3 id="响应式图片">9. 响应式图片</h3><p>使用 HTML 的 <code>srcset</code> 属性实现响应式图片：</p><p><img src="https://picsum.photos/800/600"      srcset="https://picsum.photos/400/300 400w,             https://picsum.photos/800/600 800w,             https://picsum.photos/1200/900 1200w"     sizes="(max-width: 600px) 400px,            (max-width: 1200px) 800px,            1200px"     alt="响应式图片"></p><h3 id="图片懒加载测试">10. 图片懒加载测试</h3><p>使用 <code>loading="lazy"</code> 属性实现懒加载：</p><p><img src="https://picsum.photos/600/400?random=10" alt="懒加载图片1" loading="lazy"><img src="https://picsum.photos/600/400?random=11" alt="懒加载图片2" loading="lazy"><img src="https://picsum.photos/600/400?random=12" alt="懒加载图片3" loading="lazy"></p><h3 id="图片样式测试">11. 图片样式测试</h3><h4 id="圆角图片">11.1 圆角图片</h4><p><img src="https://picsum.photos/400/300?random=13" alt="圆角图片" style="border-radius: 15px;"></p><h4 id="带边框的图片">11.2 带边框的图片</h4><p><img src="https://picsum.photos/400/300?random=14" alt="带边框图片" style="border: 3px solid #333; padding: 5px;"></p><h4 id="带阴影的图片">11.3 带阴影的图片</h4><p><img src="https://picsum.photos/400/300?random=15" alt="带阴影图片" style="box-shadow: 0 4px 8px rgba(0,0,0,0.2);"></p><h3 id="图片说明和引用">12. 图片说明和引用</h3><blockquote><p>这是一张重要的图片说明：</p><figure><img src="https://picsum.photos/500/350?random=16" alt="重要图片" /><figcaption aria-hidden="true">重要图片</figcaption></figure><p>图片展示了某个重要的概念或示例。</p></blockquote><h3 id="图片与代码块组合">13. 图片与代码块组合</h3><p>下面是一个代码示例，配合图片说明：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">process_image</span>(<span class="hljs-params">image_path</span>):<br>    <span class="hljs-string">&quot;&quot;&quot;处理图片的函数&quot;&quot;&quot;</span><br>    <span class="hljs-comment"># 图片处理逻辑</span><br>    <span class="hljs-keyword">return</span> processed_image<br></code></pre></td></tr></table></figure><figure><img src="https://picsum.photos/500/300?random=17" alt="代码示例配图" /><figcaption aria-hidden="true">代码示例配图</figcaption></figure><h3 id="图片与列表组合">14. 图片与列表组合</h3><h4 id="有序列表中的图片">14.1 有序列表中的图片</h4><ol type="1"><li><p>第一步：准备图片资源 <imgsrc="https://picsum.photos/300/200?random=18" alt="步骤1" /></p></li><li><p>第二步：处理图片 <imgsrc="https://picsum.photos/300/200?random=19" alt="步骤2" /></p></li><li><p>第三步：展示结果 <imgsrc="https://picsum.photos/300/200?random=20" alt="步骤3" /></p></li></ol><h4 id="无序列表中的图片">14.2 无序列表中的图片</h4><ul><li>特性一：高质量 <img src="https://picsum.photos/250/180?random=21"alt="特性1" /></li><li>特性二：快速加载 <img src="https://picsum.photos/250/180?random=22"alt="特性2" /></li><li>特性三：响应式设计 <imgsrc="https://picsum.photos/250/180?random=23" alt="特性3" /></li></ul><h3 id="图片与表格组合">15. 图片与表格组合</h3><table><thead><tr class="header"><th>图片类型</th><th>尺寸</th><th>示例</th></tr></thead><tbody><tr class="odd"><td>小图</td><td>200x150</td><td><img src="https://picsum.photos/200/150?random=24"alt="小图" /></td></tr><tr class="even"><td>中图</td><td>400x300</td><td><img src="https://picsum.photos/400/300?random=25"alt="中图" /></td></tr><tr class="odd"><td>大图</td><td>800x600</td><td><img src="https://picsum.photos/800/600?random=26"alt="大图" /></td></tr></tbody></table><h3 id="图片加载失败测试">16. 图片加载失败测试</h3><p>测试图片加载失败时的显示：</p><figure><img src="https://example.com/nonexistent-image.jpg"alt="不存在的图片" /><figcaption aria-hidden="true">不存在的图片</figcaption></figure><h3 id="长宽比测试">17. 长宽比测试</h3><h4 id="横向图片169">17.1 横向图片（16:9）</h4><figure><img src="https://picsum.photos/800/450?random=27" alt="横向图片" /><figcaption aria-hidden="true">横向图片</figcaption></figure><h4 id="纵向图片916">17.2 纵向图片（9:16）</h4><figure><img src="https://picsum.photos/450/800?random=28" alt="纵向图片" /><figcaption aria-hidden="true">纵向图片</figcaption></figure><h4 id="正方形图片11">17.3 正方形图片（1:1）</h4><figure><img src="https://picsum.photos/600/600?random=29" alt="正方形图片" /><figcaption aria-hidden="true">正方形图片</figcaption></figure><h3 id="图片压缩和优化测试">18. 图片压缩和优化测试</h3><p>测试不同质量的图片：</p><h4 id="高质量图片">18.1 高质量图片</h4><figure><img src="https://picsum.photos/800/600?random=30" alt="高质量" /><figcaption aria-hidden="true">高质量</figcaption></figure><h4 id="中等质量图片">18.2 中等质量图片</h4><figure><img src="https://picsum.photos/600/450?random=31" alt="中等质量" /><figcaption aria-hidden="true">中等质量</figcaption></figure><h3 id="图片动画效果css">19. 图片动画效果（CSS）</h3><p>测试图片的 CSS 动画效果：</p><div style="text-align: center;"><p><img src="https://picsum.photos/400/300?random=32"        alt="动画图片"        style="transition: transform 0.3s ease;"       onmouseover="this.style.transform='scale(1.1)'"       onmouseout="this.style.transform='scale(1)'"></p></div><p><em>鼠标悬停查看效果</em></p><h3 id="图片说明文字样式">20. 图片说明文字样式</h3><p>测试不同样式的说明文字：</p><figure style="text-align: center;"><img src="https://picsum.photos/600/400?random=33" alt="带说明的图片"><figcaption style="color: #666; font-size: 0.9em; margin-top: 10px;"><strong>图 1：</strong>这是一张带有详细说明文字的图片示例</figcaption></figure><h2 id="测试说明">测试说明</h2><p>本文档包含了以下图片显示场景的测试：</p><ol type="1"><li>✅ 基本图片显示（本地和网络）</li><li>✅ 不同尺寸的图片</li><li>✅ 带链接的图片</li><li>✅ 图片说明文字</li><li>✅ 图片对齐（左、中、右）</li><li>✅ 多张图片并排显示</li><li>✅ 图片网格布局</li><li>✅ 图片与文字混排</li><li>✅ 响应式图片</li><li>✅ 图片懒加载</li><li>✅ 图片样式（圆角、边框、阴影）</li><li>✅ 图片与引用块组合</li><li>✅ 图片与代码块组合</li><li>✅ 图片与列表组合</li><li>✅ 图片与表格组合</li><li>✅ 图片加载失败处理</li><li>✅ 不同长宽比的图片</li><li>✅ 图片压缩和优化</li><li>✅ 图片动画效果</li><li>✅ 图片说明文字样式</li></ol><h2 id="注意事项">注意事项</h2><ul><li>本文档使用了 <code>picsum.photos</code> 作为占位图片服务</li><li>实际使用时，请替换为真实的图片资源</li><li>建议使用本地图片资源以提高加载速度</li><li>大尺寸图片建议进行压缩优化</li><li>考虑使用 CDN 加速图片加载</li></ul>]]></content>
    
    
    <categories>
      
      <category>技术教程</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Yike</tag>
      
      <tag>测试</tag>
      
      <tag>图片</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>LaTeX 数学公式测试</title>
    <link href="/2025/11/07/latex-test/"/>
    <url>/2025/11/07/latex-test/</url>
    
    <content type="html"><![CDATA[<p>这是一个测试LaTeX数学公式渲染的文章。</p><h2 id="行内数学公式">行内数学公式</h2><p>这是一个行内公式：<spanclass="math inline"><em>E</em> = <em>m</em><em>c</em><sup>2</sup></span>，展示了爱因斯坦的质能方程。</p><p>另一个例子：<span class="math inline">$\sum_{i=1}^{n} x_i = x_1 + x_2+ \cdots + x_n$</span></p><h2 id="块级数学公式">块级数学公式</h2><h3 id="基础公式">1. 基础公式</h3><p><span class="math display">$$\int_{-\infty}^{\infty} e^{-x^2} dx = \sqrt{\pi}$$</span></p><h3 id="矩阵">2. 矩阵</h3><p><span class="math display">$$\begin{bmatrix}a &amp; b \\c &amp; d\end{bmatrix}\begin{bmatrix}x \\y\end{bmatrix}=\begin{bmatrix}ax + by \\cx + dy\end{bmatrix}$$</span></p><h3 id="求和与极限">3. 求和与极限</h3><p><span class="math display">$$\lim_{n \to \infty} \sum_{k=1}^n \frac{1}{k^2} = \frac{\pi^2}{6}$$</span></p><h3 id="分数与根式">4. 分数与根式</h3><p><span class="math display">$$x = \frac{-b \pm \sqrt{b^2 - 4ac}}{2a}$$</span></p><h3 id="希腊字母和特殊符号">5. 希腊字母和特殊符号</h3><p><spanclass="math display"><em>α</em> + <em>β</em> = <em>γ</em>,  <em>Δ</em> = <em>b</em><sup>2</sup> − 4<em>a</em><em>c</em>,  ∇ ⋅ <em>F⃗</em> = <em>ρ</em></span></p><h3 id="积分">6. 积分</h3><p><spanclass="math display">∫<sub>0</sub><sup><em>π</em></sup>sin (<em>x</em>)<em>d</em><em>x</em> = 2</span></p><h3 id="复杂公式">7. 复杂公式</h3><p><span class="math display">$$\frac{\partial}{\partial t} \Psi(\mathbf{r}, t) = \frac{i\hbar}{2m}\nabla^2 \Psi(\mathbf{r}, t) + V(\mathbf{r}) \Psi(\mathbf{r}, t)$$</span></p><h3 id="对齐公式align-环境">8. 对齐公式（align 环境）</h3><p><span class="math display">$$\begin{align}f(x) &amp;= (x+1)^2 \\     &amp;= x^2 + 2x + 1 \\     &amp;= (x+1)(x+1)\end{align}$$</span></p><h3 id="分段函数cases-环境">9. 分段函数（cases 环境）</h3><p><span class="math display">$$f(x) = \begin{cases}x^2 &amp; \text{if } x \geq 0 \\-x^2 &amp; \text{if } x &lt; 0\end{cases}$$</span></p><h3 id="行列式">10. 行列式</h3><p><span class="math display">$$\det(A) = \begin{vmatrix}a &amp; b \\c &amp; d\end{vmatrix} = ad - bc$$</span></p><h3 id="求和与乘积">11. 求和与乘积</h3><p><span class="math display">$$\prod_{i=1}^{n} \left(1 + \frac{1}{i}\right) = n + 1, \quad\sum_{i=1}^{n} i = \frac{n(n+1)}{2}$$</span></p><h3 id="极限与导数">12. 极限与导数</h3><p><span class="math display">$$\lim_{h \to 0} \frac{f(x+h) - f(x)}{h} = f'(x), \quad\frac{d}{dx}\left(x^n\right) = nx^{n-1}$$</span></p><h3 id="积分变换">13. 积分变换</h3><p><spanclass="math display">ℱ{<em>f</em>(<em>t</em>)} = ∫<sub>−∞</sub><sup>∞</sup><em>f</em>(<em>t</em>)<em>e</em><sup>−2<em>π</em><em>i</em><em>ξ</em><em>t</em></sup><em>d</em><em>t</em></span></p><h3 id="向量与矩阵运算">14. 向量与矩阵运算</h3><p><span class="math display">$$\mathbf{A} \mathbf{x} = \mathbf{b}, \quad \|\mathbf{v}\| = \sqrt{v_1^2 +v_2^2 + \cdots + v_n^2}$$</span></p><h3 id="集合与逻辑">15. 集合与逻辑</h3><p><spanclass="math display"><em>A</em> ∪ <em>B</em> = {<em>x</em> ∣ <em>x</em> ∈ <em>A</em>or<em>x</em> ∈ <em>B</em>},  <em>A</em> ∩ <em>B</em> = {<em>x</em> ∣ <em>x</em> ∈ <em>A</em>and <em>x</em> ∈ <em>B</em>}</span></p><h3 id="概率与统计">16. 概率与统计</h3><p><span class="math display">$$P(A \mid B) = \frac{P(A \cap B)}{P(B)}, \quad \bar{x} =\frac{1}{n}\sum_{i=1}^{n} x_i$$</span></p><h3 id="复数">17. 复数</h3><p><spanclass="math display"><em>e</em><sup><em>i</em><em>π</em></sup> + 1 = 0,  <em>z</em> = <em>a</em> + <em>b</em><em>i</em> = <em>r</em>(cos<em>θ</em>+<em>i</em>sin<em>θ</em>) = <em>r</em><em>e</em><sup><em>i</em><em>θ</em></sup></span></p><h3 id="级数展开">18. 级数展开</h3><p><span class="math display">$$e^x = \sum_{n=0}^{\infty} \frac{x^n}{n!} = 1 + x + \frac{x^2}{2!} +\frac{x^3}{3!} + \cdots$$</span></p><h3 id="微分方程">19. 微分方程</h3><p><span class="math display">$$\frac{d^2y}{dx^2} + p(x)\frac{dy}{dx} + q(x)y = f(x)$$</span></p><h3 id="多行矩阵">20. 多行矩阵</h3><p><span class="math display">$$\begin{pmatrix}a_{11} &amp; a_{12} &amp; \cdots &amp; a_{1n} \\a_{21} &amp; a_{22} &amp; \cdots &amp; a_{2n} \\\vdots &amp; \vdots &amp; \ddots &amp; \vdots \\a_{m1} &amp; a_{m2} &amp; \cdots &amp; a_{mn}\end{pmatrix}$$</span></p><h3 id="组合数学">21. 组合数学</h3><p><span class="math display">$$\binom{n}{k} = \frac{n!}{k!(n-k)!}, \quad C(n, k) = \frac{P(n, k)}{k!}$$</span></p><h3 id="三角函数恒等式">22. 三角函数恒等式</h3><p><spanclass="math display">sin<sup>2</sup>(<em>x</em>) + cos<sup>2</sup>(<em>x</em>) = 1,  sin (2<em>x</em>) = 2sin (<em>x</em>)cos (<em>x</em>)</span></p><h3 id="对数与指数">23. 对数与指数</h3><p><spanclass="math display">log<sub><em>a</em></sub>(<em>x</em><em>y</em>) = log<sub><em>a</em></sub>(<em>x</em>) + log<sub><em>a</em></sub>(<em>y</em>),  <em>a</em><sup>log<sub><em>a</em></sub>(<em>x</em>)</sup> = <em>x</em></span></p><h3 id="不等式">24. 不等式</h3><p><span class="math display">$$|x + y| \leq |x| + |y|, \quad \frac{a + b}{2} \geq \sqrt{ab} \quad (a, b&gt; 0)$$</span></p><h3 id="行内复杂公式测试">25. 行内复杂公式测试</h3><p>这是一个包含多个符号的行内公式：<spanclass="math inline">∀<em>ε</em> &gt; 0, ∃<em>δ</em> &gt; 0</span> 使得当<span class="math inline">|<em>x</em>−<em>a</em>| &lt; <em>δ</em></span>时，有 <spanclass="math inline">|<em>f</em>(<em>x</em>)−<em>L</em>| &lt; <em>ε</em></span>。</p><p>另一个行内公式：<span class="math inline">$\int_0^1 x^2 dx =\frac{1}{3}$</span>，以及 <span class="math inline">$\lim_{n \to \infty}\left(1 + \frac{1}{n}\right)^n = e$</span>。</p><h2 id="柔索并联机器人公式测试">柔索并联机器人公式测试</h2><h3 id="运动学正解">1. 运动学正解</h3><p>给定柔索长度 <spanclass="math inline"><em>l</em><sub><em>i</em></sub></span> 和固定点位置<spanclass="math inline"><strong>A</strong><sub><em>i</em></sub></span>，动平台位置<span class="math inline"><strong>P</strong></span>可通过以下公式计算：</p><p><span class="math display">$$\mathbf{P} = \mathbf{A}_i + l_i \cdot \hat{\mathbf{d}}_i$$</span></p><p>其中，<span class="math inline">$\hat{\mathbf{d}}_i$</span>为单位方向向量。</p><h3 id="运动学逆解">2. 运动学逆解</h3><p>已知动平台位置 <spanclass="math inline"><strong>P</strong></span>，柔索长度 <spanclass="math inline"><em>l</em><sub><em>i</em></sub></span>可通过以下公式求解：</p><p><spanclass="math display"><em>l</em><sub><em>i</em></sub> = ∥<strong>P</strong> − <strong>A</strong><sub><em>i</em></sub>∥</span></p><h3 id="雅可比矩阵">3. 雅可比矩阵</h3><p>雅可比矩阵 <span class="math inline"><strong>J</strong></span>描述了动平台速度与柔索速度之间的关系：</p><p><span class="math display">$$\mathbf{J} = \begin{bmatrix}\frac{\partial l_1}{\partial x} &amp; \frac{\partial l_1}{\partial y}&amp; \frac{\partial l_1}{\partial z} \\\frac{\partial l_2}{\partial x} &amp; \frac{\partial l_2}{\partial y}&amp; \frac{\partial l_2}{\partial z} \\\vdots &amp; \vdots &amp; \vdots \\\frac{\partial l_n}{\partial x} &amp; \frac{\partial l_n}{\partial y}&amp; \frac{\partial l_n}{\partial z}\end{bmatrix}$$</span></p><p>对于 <span class="math inline"><em>n</em></span>根柔索的机器人，雅可比矩阵的转置可以表示为：</p><p><span class="math display">$$\mathbf{J}^T = \begin{bmatrix}\hat{\mathbf{d}}_1 &amp; \hat{\mathbf{d}}_2 &amp; \cdots &amp;\hat{\mathbf{d}}_n \\(\mathbf{P} - \mathbf{A}_1) \times \hat{\mathbf{d}}_1 &amp; (\mathbf{P}- \mathbf{A}_2) \times \hat{\mathbf{d}}_2 &amp; \cdots &amp; (\mathbf{P}- \mathbf{A}_n) \times \hat{\mathbf{d}}_n\end{bmatrix}$$</span></p><h3 id="静力学平衡方程">4. 静力学平衡方程</h3><p>在静态条件下，动平台所受的外力 <spanclass="math inline"><strong>F</strong><sub>ext</sub></span> 与柔索张力<span class="math inline"><strong>T</strong></span>之间满足以下关系：</p><p><spanclass="math display"><strong>J</strong><sup><em>T</em></sup><strong>T</strong> = <strong>F</strong><sub>ext</sub></span></p><p>其中，<spanclass="math inline"><strong>T</strong> = [<em>T</em><sub>1</sub>,<em>T</em><sub>2</sub>,…,<em>T</em><sub><em>n</em></sub>]<sup><em>T</em></sup></span>为各柔索的张力向量。</p><h3 id="张力分布">5. 张力分布</h3><p>对于 <span class="math inline"><em>m</em></span> 个自由度、<spanclass="math inline"><em>n</em></span>根柔索的系统，张力分布需要满足：</p><p><span class="math display">$$\begin{cases}\mathbf{J}^T \mathbf{T} = \mathbf{F}_{\text{ext}} \\T_i \geq T_{\min} \quad (i = 1, 2, \ldots, n) \\T_i \leq T_{\max} \quad (i = 1, 2, \ldots, n)\end{cases}$$</span></p><p>其中 <span class="math inline"><em>T</em><sub>min</sub></span> 和<span class="math inline"><em>T</em><sub>max</sub></span>分别为柔索张力的最小值和最大值。</p><h3 id="动力学方程">6. 动力学方程</h3><p>考虑动平台质量 <span class="math inline"><em>m</em></span> 和加速度<span class="math inline"><strong>a</strong></span>，动力学方程为：</p><p><spanclass="math display"><strong>J</strong><sup><em>T</em></sup><strong>T</strong> = <em>m</em><strong>a</strong> + <strong>F</strong><sub>ext</sub></span></p><p>更完整的动力学方程包括惯性项、科里奥利力和重力：</p><p><span class="math display">$$\mathbf{J}^T \mathbf{T} = \mathbf{M}(\mathbf{q}) \ddot{\mathbf{q}} +\mathbf{C}(\mathbf{q}, \dot{\mathbf{q}}) \dot{\mathbf{q}} +\mathbf{G}(\mathbf{q}) + \mathbf{F}_{\text{ext}}$$</span></p><p>其中： - <spanclass="math inline"><strong>M</strong>(<strong>q</strong>)</span>为质量矩阵 - <span class="math inline">$\mathbf{C}(\mathbf{q},\dot{\mathbf{q}})$</span> 为科里奥利力矩阵 - <spanclass="math inline"><strong>G</strong>(<strong>q</strong>)</span>为重力向量 - <span class="math inline"><strong>q</strong></span>为广义坐标</p><h3 id="工作空间分析">7. 工作空间分析</h3><p>柔索并联机器人的工作空间可通过以下约束条件确定：</p><p><spanclass="math display"><em>l</em><sub>min</sub> ≤ <em>l</em><sub><em>i</em></sub> ≤ <em>l</em><sub>max</sub>,  <em>i</em> = 1, 2, …, <em>n</em></span></p><p>其中，<span class="math inline"><em>l</em><sub>min</sub></span> 和<span class="math inline"><em>l</em><sub>max</sub></span>分别为柔索的最小和最大长度。</p><h3 id="力封闭性条件">8. 力封闭性条件</h3><p>系统具有力封闭性的充要条件是雅可比矩阵的转置满足：</p><p><spanclass="math display">rank(<strong>J</strong><sup><em>T</em></sup>) = <em>m</em>,  且存在<strong>T</strong> &gt; <strong>0</strong> 使得<strong>J</strong><sup><em>T</em></sup><strong>T</strong> = <strong>0</strong></span></p><h3 id="速度关系">9. 速度关系</h3><p>动平台速度 <span class="math inline">$\dot{\mathbf{x}}$</span>与柔索速度 <span class="math inline">$\dot{\mathbf{l}}$</span>之间的关系为：</p><p><span class="math display">$$\dot{\mathbf{l}} = \mathbf{J} \dot{\mathbf{x}}$$</span></p><p>其中 <span class="math inline">$\dot{\mathbf{l}} = [\dot{l}_1,\dot{l}_2, \ldots, \dot{l}_n]^T$</span>。</p><h3 id="加速度关系">10. 加速度关系</h3><p>加速度关系可以通过对速度关系求导得到：</p><p><span class="math display">$$\ddot{\mathbf{l}} = \mathbf{J} \ddot{\mathbf{x}} + \dot{\mathbf{J}}\dot{\mathbf{x}}$$</span></p><h3 id="柔索方向向量">11. 柔索方向向量</h3><p>柔索的单位方向向量可以表示为：</p><p><span class="math display">$$\hat{\mathbf{d}}_i = \frac{\mathbf{P} - \mathbf{A}_i}{\|\mathbf{P} -\mathbf{A}_i\|} = \frac{\mathbf{P} - \mathbf{A}_i}{l_i}$$</span></p><h3 id="张力优化">12. 张力优化</h3><p>在满足静力学平衡的前提下，张力优化问题可以表述为：</p><p><span class="math display">$$\min_{\mathbf{T}} \sum_{i=1}^{n} T_i^2$$</span></p><p>约束条件：</p><p><span class="math display">$$\begin{cases}\mathbf{J}^T \mathbf{T} = \mathbf{F}_{\text{ext}} \\T_i \geq T_{\min} \quad (i = 1, 2, \ldots, n)\end{cases}$$</span></p><h3 id="行内公式示例">13. 行内公式示例</h3><p>柔索长度 <span class="math inline">$l_i = \sqrt{(x - A_{ix})^2 + (y -A_{iy})^2 + (z - A_{iz})^2}$</span>，其中 <spanclass="math inline">(<em>x</em>,<em>y</em>,<em>z</em>)</span>为动平台位置，<spanclass="math inline">(<em>A</em><sub><em>i</em><em>x</em></sub>,<em>A</em><sub><em>i</em><em>y</em></sub>,<em>A</em><sub><em>i</em><em>z</em></sub>)</span>为第 <span class="math inline"><em>i</em></span> 个固定点坐标。</p><p>张力约束：<spanclass="math inline"><em>T</em><sub>min</sub> ≤ <em>T</em><sub><em>i</em></sub> ≤ <em>T</em><sub>max</sub></span>，工作空间约束：<spanclass="math inline"><em>l</em><sub>min</sub> ≤ <em>l</em><sub><em>i</em></sub> ≤ <em>l</em><sub>max</sub></span>。</p><h2 id="测试说明">测试说明</h2><p>如果上述公式能够正确渲染，说明LaTeX支持已经正常工作。如果显示为原始LaTeX代码，则需要进一步调试配置。</p><h3 id="功能测试清单">功能测试清单</h3><ul><li>✅ 块级公式（<code>$$...$$</code>）正常显示</li><li>✅ 行内公式（<code>$...$</code>）正常显示</li><li>✅ 矩阵环境（<code>bmatrix</code>, <code>pmatrix</code>,<code>vmatrix</code>）正常显示</li><li>✅ 对齐环境（<code>align</code>）正常显示</li><li>✅ 分段函数（<code>cases</code>）正常显示</li><li>✅ 复制功能：块级公式右上角复制按钮</li><li>✅ 复制功能：行内公式点击复制</li></ul>]]></content>
    
    
    <categories>
      
      <category>技术教程</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Yike</tag>
      
      <tag>测试</tag>
      
      <tag>LaTeX</tag>
      
      <tag>数学</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Linux 快捷命令</title>
    <link href="/2025/11/07/linux-commands-guide/"/>
    <url>/2025/11/07/linux-commands-guide/</url>
    
    <content type="html"><![CDATA[<h1 id="linux-快捷命令">Linux 快捷命令</h1><h2 id="前言">🚀 前言</h2><p>作为Linux用户，掌握快捷命令是提升工作效率的关键。本文整理了最实用的Linux快捷命令和技巧，帮助你在终端中更加得心应手。</p><h2 id="文件与目录操作">📂 文件与目录操作</h2><h3 id="基础导航命令">基础导航命令</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># 显示当前目录</span><br><span class="hljs-built_in">pwd</span><br><br><span class="hljs-comment"># 列出文件和目录</span><br><span class="hljs-built_in">ls</span> -la          <span class="hljs-comment"># 详细列表，包含隐藏文件</span><br><span class="hljs-built_in">ls</span> -lh          <span class="hljs-comment"># 人性化显示文件大小</span><br><span class="hljs-built_in">ls</span> -lt          <span class="hljs-comment"># 按修改时间排序</span><br><span class="hljs-built_in">ls</span> -lS          <span class="hljs-comment"># 按文件大小排序</span><br><br><span class="hljs-comment"># 切换目录</span><br><span class="hljs-built_in">cd</span> ~            <span class="hljs-comment"># 回到家目录</span><br><span class="hljs-built_in">cd</span> -            <span class="hljs-comment"># 切换到上一个目录</span><br><span class="hljs-built_in">cd</span> ../..        <span class="hljs-comment"># 向上两级目录</span><br></code></pre></td></tr></table></figure><h3 id="文件操作快捷命令">文件操作快捷命令</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># 创建文件和目录</span><br><span class="hljs-built_in">touch</span> file.txt          <span class="hljs-comment"># 创建空文件</span><br><span class="hljs-built_in">mkdir</span> -p dir1/dir2      <span class="hljs-comment"># 递归创建目录</span><br><span class="hljs-built_in">mktemp</span>                  <span class="hljs-comment"># 创建临时文件</span><br><br><span class="hljs-comment"># 复制和移动</span><br><span class="hljs-built_in">cp</span> -r <span class="hljs-built_in">source</span> dest       <span class="hljs-comment"># 递归复制目录</span><br><span class="hljs-built_in">cp</span> -u <span class="hljs-built_in">source</span> dest       <span class="hljs-comment"># 只复制更新的文件</span><br><span class="hljs-built_in">mv</span> old_name new_name    <span class="hljs-comment"># 重命名文件</span><br><span class="hljs-built_in">mv</span> file.txt ~/          <span class="hljs-comment"># 移动到家目录</span><br><br><span class="hljs-comment"># 删除操作</span><br><span class="hljs-built_in">rm</span> -rf directory/       <span class="hljs-comment"># 强制删除目录及内容</span><br><span class="hljs-built_in">rm</span> -i file.txt         <span class="hljs-comment"># 交互式删除（确认）</span><br>find . -name <span class="hljs-string">&quot;*.tmp&quot;</span> -delete  <span class="hljs-comment"># 查找并删除临时文件</span><br></code></pre></td></tr></table></figure><h2 id="文本处理与搜索">🔍 文本处理与搜索</h2><h3 id="文件内容查看">文件内容查看</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># 查看文件内容</span><br><span class="hljs-built_in">cat</span> file.txt            <span class="hljs-comment"># 显示全部内容</span><br><span class="hljs-built_in">head</span> -n 20 file.txt     <span class="hljs-comment"># 显示前20行</span><br><span class="hljs-built_in">tail</span> -f /var/log/sys.log <span class="hljs-comment"># 实时跟踪日志文件</span><br>less file.txt           <span class="hljs-comment"># 分页查看大文件</span><br>more file.txt           <span class="hljs-comment"># 简单分页查看</span><br><br><span class="hljs-comment"># 统计信息</span><br><span class="hljs-built_in">wc</span> -l file.txt          <span class="hljs-comment"># 统计行数</span><br><span class="hljs-built_in">wc</span> -w file.txt          <span class="hljs-comment"># 统计单词数</span><br><span class="hljs-built_in">wc</span> -c file.txt          <span class="hljs-comment"># 统计字符数</span><br></code></pre></td></tr></table></figure><h3 id="强大的搜索命令">强大的搜索命令</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># grep 文本搜索</span><br>grep -r <span class="hljs-string">&quot;pattern&quot;</span> /path/    <span class="hljs-comment"># 递归搜索</span><br>grep -i <span class="hljs-string">&quot;pattern&quot;</span> file.txt  <span class="hljs-comment"># 忽略大小写</span><br>grep -n <span class="hljs-string">&quot;pattern&quot;</span> file.txt  <span class="hljs-comment"># 显示行号</span><br>grep -v <span class="hljs-string">&quot;pattern&quot;</span> file.txt  <span class="hljs-comment"># 反向匹配（不包含）</span><br>grep -E <span class="hljs-string">&quot;pattern1|pattern2&quot;</span> file.txt  <span class="hljs-comment"># 正则表达式</span><br><br><span class="hljs-comment"># find 文件搜索</span><br>find /path -name <span class="hljs-string">&quot;*.log&quot;</span>    <span class="hljs-comment"># 按名称查找</span><br>find /path -<span class="hljs-built_in">type</span> f -size +100M  <span class="hljs-comment"># 查找大于100M的文件</span><br>find /path -mtime -7        <span class="hljs-comment"># 查找7天内修改的文件</span><br>find /path -<span class="hljs-built_in">exec</span> <span class="hljs-built_in">rm</span> &#123;&#125; \;   <span class="hljs-comment"># 查找并执行操作</span><br></code></pre></td></tr></table></figure><h2 id="进程与系统管理">⚡ 进程与系统管理</h2><h3 id="进程操作">进程操作</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># 查看进程</span><br>ps aux                  <span class="hljs-comment"># 显示所有进程</span><br>ps aux | grep nginx     <span class="hljs-comment"># 查找特定进程</span><br>pgrep -f <span class="hljs-string">&quot;python&quot;</span>       <span class="hljs-comment"># 按名称查找进程ID</span><br>top                     <span class="hljs-comment"># 实时查看进程</span><br>htop                    <span class="hljs-comment"># 更友好的进程查看器</span><br><br><span class="hljs-comment"># 进程控制</span><br><span class="hljs-built_in">kill</span> -9 PID             <span class="hljs-comment"># 强制杀死进程</span><br>killall nginx           <span class="hljs-comment"># 杀死所有nginx进程</span><br>pkill -f <span class="hljs-string">&quot;python script.py&quot;</span>  <span class="hljs-comment"># 按命令行杀死进程</span><br><span class="hljs-built_in">nohup</span> <span class="hljs-built_in">command</span> &amp;         <span class="hljs-comment"># 后台运行命令，忽略挂断信号</span><br></code></pre></td></tr></table></figure><h3 id="系统信息">系统信息</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># 系统状态</span><br><span class="hljs-built_in">df</span> -h                   <span class="hljs-comment"># 磁盘使用情况</span><br><span class="hljs-built_in">du</span> -sh /path/*          <span class="hljs-comment"># 目录大小统计</span><br>free -h                 <span class="hljs-comment"># 内存使用情况</span><br><span class="hljs-built_in">uptime</span>                  <span class="hljs-comment"># 系统运行时间</span><br><span class="hljs-built_in">uname</span> -a                <span class="hljs-comment"># 系统信息</span><br><br><span class="hljs-comment"># 网络状态</span><br>netstat -tulpn          <span class="hljs-comment"># 查看网络连接</span><br>ss -tulpn               <span class="hljs-comment"># 更现代的网络状态查看</span><br>lsof -i :80             <span class="hljs-comment"># 查看端口占用</span><br></code></pre></td></tr></table></figure><h2 id="文件权限与用户管理">🔧 文件权限与用户管理</h2><h3 id="权限操作">权限操作</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># 修改权限</span><br><span class="hljs-built_in">chmod</span> 755 file.txt      <span class="hljs-comment"># 设置权限为rwxr-xr-x</span><br><span class="hljs-built_in">chmod</span> +x script.sh      <span class="hljs-comment"># 添加执行权限</span><br><span class="hljs-built_in">chmod</span> -R 644 /path/     <span class="hljs-comment"># 递归设置权限</span><br><br><span class="hljs-comment"># 修改所有者</span><br><span class="hljs-built_in">chown</span> user:group file.txt       <span class="hljs-comment"># 修改用户和组</span><br><span class="hljs-built_in">chown</span> -R user:group /path/      <span class="hljs-comment"># 递归修改</span><br><span class="hljs-built_in">sudo</span> <span class="hljs-built_in">chown</span> root:root file.txt   <span class="hljs-comment"># 修改为root用户</span><br></code></pre></td></tr></table></figure><h3 id="用户和组">用户和组</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># 用户信息</span><br><span class="hljs-built_in">whoami</span>                  <span class="hljs-comment"># 当前用户名</span><br><span class="hljs-built_in">id</span>                      <span class="hljs-comment"># 用户ID和组信息</span><br><span class="hljs-built_in">groups</span> username         <span class="hljs-comment"># 查看用户所属组</span><br>su - username           <span class="hljs-comment"># 切换用户</span><br><span class="hljs-built_in">sudo</span> -u user <span class="hljs-built_in">command</span>    <span class="hljs-comment"># 以指定用户身份执行命令</span><br></code></pre></td></tr></table></figure><h2 id="文本处理神器">📊 文本处理神器</h2><h3 id="sed-流编辑器">sed 流编辑器</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># 替换操作</span><br>sed <span class="hljs-string">&#x27;s/old/new/g&#x27;</span> file.txt          <span class="hljs-comment"># 全局替换</span><br>sed -i <span class="hljs-string">&#x27;s/old/new/g&#x27;</span> file.txt       <span class="hljs-comment"># 直接修改文件</span><br>sed -n <span class="hljs-string">&#x27;1,10p&#x27;</span> file.txt             <span class="hljs-comment"># 打印第1-10行</span><br>sed <span class="hljs-string">&#x27;/pattern/d&#x27;</span> file.txt           <span class="hljs-comment"># 删除匹配行</span><br></code></pre></td></tr></table></figure><h3 id="awk-文本处理">awk 文本处理</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># 基础用法</span><br>awk <span class="hljs-string">&#x27;&#123;print $1&#125;&#x27;</span> file.txt           <span class="hljs-comment"># 打印第一列</span><br>awk -F: <span class="hljs-string">&#x27;&#123;print $1&#125;&#x27;</span> /etc/passwd    <span class="hljs-comment"># 指定分隔符</span><br>awk <span class="hljs-string">&#x27;$3 &gt; 100&#x27;</span> file.txt             <span class="hljs-comment"># 条件过滤</span><br>awk <span class="hljs-string">&#x27;&#123;sum+=$1&#125; END &#123;print sum&#125;&#x27;</span> file.txt  <span class="hljs-comment"># 求和</span><br></code></pre></td></tr></table></figure><h3 id="排序和去重">排序和去重</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">sort</span> file.txt           <span class="hljs-comment"># 排序</span><br><span class="hljs-built_in">sort</span> -n file.txt        <span class="hljs-comment"># 数字排序</span><br><span class="hljs-built_in">sort</span> -r file.txt        <span class="hljs-comment"># 逆序</span><br><span class="hljs-built_in">sort</span> -u file.txt        <span class="hljs-comment"># 排序并去重</span><br><span class="hljs-built_in">uniq</span> file.txt           <span class="hljs-comment"># 去重（需要先排序）</span><br><span class="hljs-built_in">uniq</span> -c file.txt        <span class="hljs-comment"># 统计重复次数</span><br></code></pre></td></tr></table></figure><h2 id="网络与下载">🌐 网络与下载</h2><h3 id="网络工具">网络工具</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># 下载文件</span><br>wget https://example.com/file.zip   <span class="hljs-comment"># 下载文件</span><br>curl -O https://example.com/file.zip <span class="hljs-comment"># 下载文件</span><br>curl -L url                         <span class="hljs-comment"># 跟随重定向</span><br><br><span class="hljs-comment"># 网络测试</span><br>ping google.com         <span class="hljs-comment"># 测试连通性</span><br>traceroute google.com   <span class="hljs-comment"># 跟踪路由</span><br>nslookup domain.com     <span class="hljs-comment"># DNS查询</span><br>dig domain.com          <span class="hljs-comment"># 更详细的DNS查询</span><br></code></pre></td></tr></table></figure><h2 id="压缩与解压">🔄 压缩与解压</h2><h3 id="压缩文件操作">压缩文件操作</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># tar 压缩包</span><br>tar -czf archive.tar.gz /path/      <span class="hljs-comment"># 创建gzip压缩包</span><br>tar -xzf archive.tar.gz             <span class="hljs-comment"># 解压gzip压缩包</span><br>tar -tf archive.tar.gz              <span class="hljs-comment"># 查看压缩包内容</span><br><br><span class="hljs-comment"># zip 压缩包</span><br>zip -r archive.zip /path/           <span class="hljs-comment"># 创建zip压缩包</span><br>unzip archive.zip                   <span class="hljs-comment"># 解压zip文件</span><br>unzip -l archive.zip                <span class="hljs-comment"># 列出zip内容</span><br></code></pre></td></tr></table></figure><h2 id="终端快捷键">⚡ 终端快捷键</h2><h3 id="编辑快捷键">编辑快捷键</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs bash">Ctrl + A        <span class="hljs-comment"># 移动到行首</span><br>Ctrl + E        <span class="hljs-comment"># 移动到行尾</span><br>Ctrl + U        <span class="hljs-comment"># 删除光标前的所有内容</span><br>Ctrl + K        <span class="hljs-comment"># 删除光标后的所有内容</span><br>Ctrl + W        <span class="hljs-comment"># 删除光标前的单词</span><br>Ctrl + Y        <span class="hljs-comment"># 粘贴之前删除的内容</span><br></code></pre></td></tr></table></figure><h3 id="历史命令">历史命令</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">history</span>         <span class="hljs-comment"># 查看命令历史</span><br>!!              <span class="hljs-comment"># 重复上一个命令</span><br>!n              <span class="hljs-comment"># 重复第n个历史命令</span><br>!string         <span class="hljs-comment"># 重复最近以string开头的命令</span><br>Ctrl + R        <span class="hljs-comment"># 反向搜索历史命令</span><br></code></pre></td></tr></table></figure><h2 id="实用组合命令">📋 实用组合命令</h2><h3 id="日常运维组合">日常运维组合</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># 查找占用空间最大的目录</span><br><span class="hljs-built_in">du</span> -sh /path/* | <span class="hljs-built_in">sort</span> -rh | <span class="hljs-built_in">head</span> -10<br><br><span class="hljs-comment"># 查找最大的文件</span><br>find /path -<span class="hljs-built_in">type</span> f -<span class="hljs-built_in">exec</span> <span class="hljs-built_in">ls</span> -lh &#123;&#125; \; | <span class="hljs-built_in">sort</span> -k5 -rh | <span class="hljs-built_in">head</span> -10<br><br><span class="hljs-comment"># 监控日志文件</span><br><span class="hljs-built_in">tail</span> -f /var/log/nginx/access.log | grep <span class="hljs-string">&quot;ERROR&quot;</span><br><br><span class="hljs-comment"># 批量重命名文件</span><br><span class="hljs-keyword">for</span> file <span class="hljs-keyword">in</span> *.txt; <span class="hljs-keyword">do</span> <span class="hljs-built_in">mv</span> <span class="hljs-string">&quot;<span class="hljs-variable">$file</span>&quot;</span> <span class="hljs-string">&quot;<span class="hljs-variable">$&#123;file%.txt&#125;</span>.bak&quot;</span>; <span class="hljs-keyword">done</span><br><br><span class="hljs-comment"># 查找并删除空目录</span><br>find /path -<span class="hljs-built_in">type</span> d -empty -delete<br><br><span class="hljs-comment"># 统计代码行数</span><br>find . -name <span class="hljs-string">&quot;*.py&quot;</span> -<span class="hljs-built_in">exec</span> <span class="hljs-built_in">wc</span> -l &#123;&#125; + | <span class="hljs-built_in">sort</span> -n<br></code></pre></td></tr></table></figure><h3 id="系统监控组合">系统监控组合</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># 查看CPU占用最高的进程</span><br>ps aux --<span class="hljs-built_in">sort</span>=-%cpu | <span class="hljs-built_in">head</span> -10<br><br><span class="hljs-comment"># 查看内存占用最高的进程</span><br>ps aux --<span class="hljs-built_in">sort</span>=-%mem | <span class="hljs-built_in">head</span> -10<br><br><span class="hljs-comment"># 实时监控网络连接</span><br>watch -n 2 <span class="hljs-string">&#x27;netstat -tulpn&#x27;</span><br><br><span class="hljs-comment"># 监控磁盘IO</span><br>iostat -x 1<br><br><span class="hljs-comment"># 查看系统负载</span><br><span class="hljs-built_in">uptime</span> &amp;&amp; <span class="hljs-built_in">cat</span> /proc/loadavg<br></code></pre></td></tr></table></figure><h2 id="高级技巧">💡 高级技巧</h2><h3 id="管道与重定向">管道与重定向</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># 管道操作</span><br>command1 | command2 | command3     <span class="hljs-comment"># 管道连接</span><br><span class="hljs-built_in">ls</span> -la | grep <span class="hljs-string">&quot;\.txt$&quot;</span> | <span class="hljs-built_in">wc</span> -l     <span class="hljs-comment"># 统计txt文件数量</span><br><br><span class="hljs-comment"># 重定向</span><br><span class="hljs-built_in">command</span> &gt; file.txt                 <span class="hljs-comment"># 重定向输出到文件</span><br><span class="hljs-built_in">command</span> &gt;&gt; file.txt                <span class="hljs-comment"># 追加输出到文件</span><br><span class="hljs-built_in">command</span> 2&gt; error.log               <span class="hljs-comment"># 重定向错误输出</span><br><span class="hljs-built_in">command</span> &amp;&gt; all.log                 <span class="hljs-comment"># 重定向所有输出</span><br></code></pre></td></tr></table></figure><h3 id="变量与环境">变量与环境</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># 环境变量</span><br><span class="hljs-built_in">export</span> VAR=value        <span class="hljs-comment"># 设置环境变量</span><br><span class="hljs-built_in">echo</span> <span class="hljs-variable">$VAR</span>              <span class="hljs-comment"># 查看变量值</span><br><span class="hljs-built_in">env</span>                    <span class="hljs-comment"># 查看所有环境变量</span><br><span class="hljs-built_in">source</span> ~/.bashrc       <span class="hljs-comment"># 重新加载配置文件</span><br><br><span class="hljs-comment"># 别名设置</span><br><span class="hljs-built_in">alias</span> ll=<span class="hljs-string">&#x27;ls -la&#x27;</span>      <span class="hljs-comment"># 创建别名</span><br><span class="hljs-built_in">alias</span> grep=<span class="hljs-string">&#x27;grep --color=auto&#x27;</span>     <span class="hljs-comment"># 带颜色的grep</span><br><span class="hljs-built_in">unalias</span> ll             <span class="hljs-comment"># 删除别名</span><br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>技术教程</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Yike</tag>
      
      <tag>Linux</tag>
      
      <tag>命令行</tag>
      
      <tag>系统管理</tag>
      
      <tag>快捷键</tag>
      
    </tags>
    
  </entry>
  
  
  
  
</search>
